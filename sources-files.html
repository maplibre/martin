<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>MBTiles and PMTiles File Sources - Martin Tile Server Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon-de23e50b.svg">
        <link rel="shortcut icon" href="favicon-8114d1fc.png">
        <link rel="stylesheet" href="css/variables-8adf115d.css">
        <link rel="stylesheet" href="css/general-2459343d.css">
        <link rel="stylesheet" href="css/chrome-ae938929.css">
        <link rel="stylesheet" href="css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/tabs-478bfc3b.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex-d9356835.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc-da940ac3.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">Martin Tile Server Documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>
                        <a href="https://github.com/maplibre/martin" title="Git repository" aria-label="Git repository">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span>
                        </a>
                        <a href="https://github.com/maplibre/martin/edit/main/docs/src/sources-files.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <span class=fa-svg id="git-edit-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M421.7 220.3l-11.3 11.3-22.6 22.6-205 205c-6.6 6.6-14.8 11.5-23.8 14.1L30.8 511c-8.4 2.5-17.5 .2-23.7-6.1S-1.5 489.7 1 481.2L38.7 353.1c2.6-9 7.5-17.2 14.1-23.8l205-205 22.6-22.6 11.3-11.3 33.9 33.9 62.1 62.1 33.9 33.9zM96 353.9l-9.3 9.3c-.9 .9-1.6 2.1-2 3.4l-25.3 86 86-25.3c1.3-.4 2.5-1.1 3.4-2l9.3-9.3H112c-8.8 0-16-7.2-16-16V353.9zM453.3 19.3l39.4 39.4c25 25 25 65.5 0 90.5l-14.5 14.5-22.6 22.6-11.3 11.3-33.9-33.9-62.1-62.1L314.3 67.7l11.3-11.3 22.6-22.6 14.5-14.5c25-25 65.5-25 90.5 0z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <h2 id="mbtiles-and-pmtiles-file-sources"><a class="header" href="#mbtiles-and-pmtiles-file-sources">MBTiles and PMTiles File Sources</a></h2>
<p>Martin can serve any type of tiles from <a href="https://protomaps.com/blog/pmtiles-v3-whats-new">PMTile</a>
and <a href="https://github.com/mapbox/mbtiles-spec">MBTile</a> files. To serve a file from CLI, simply put the path to the file or
the directory with <code>*.mbtiles</code> or <code>*.pmtiles</code> files. A path to PMTiles file may be a URL. For example:</p>
<pre><code class="language-bash">martin  /path/to/mbtiles/file.mbtiles  /path/to/directory   https://example.org/path/tiles.pmtiles
</code></pre>
<p>You may also want to generate a <a href="config-file.html">config file</a> using the <code>--save-config my-config.yaml</code>, and later edit
it and use it with <code>--config my-config.yaml</code> option.</p>
<blockquote class="blockquote-tag blockquote-tag-tip">
<p class="blockquote-tag-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"></path></svg>Tip</p>
<p>See <a href="sources-tiles.html">our tile sources explanation</a> for a more detailed explanation on the difference between our available data sources.</p>
</blockquote>
<h3 id="autodiscovery"><a class="header" href="#autodiscovery">Autodiscovery</a></h3>
<p>For mbtiles or local pmtiles files, we support auto discovering at startup.
This means that the following will discover all mbtiles and pmtiles files in the directory:</p>
<pre><code class="language-bash">martin  /path/to/directory
</code></pre>
<blockquote class="blockquote-tag blockquote-tag-warning">
<p class="blockquote-tag-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>Warning</p>
<p>For remote PMTiles, we don’t currently support auto-discovery.
If you want to implement this feature, please see <a href="https://github.com/maplibre/martin/issues/2180">https://github.com/maplibre/martin/issues/2180</a></p>
<p>We also don’t currently support refreshing the catalog at runtime.
If you want to implement this feature, please see <a href="https://github.com/maplibre/martin/issues/288">https://github.com/maplibre/martin/issues/288</a> instead.</p>
</blockquote>
<h3 id="serving-pmtiles-from-local-file-systems-http-or-object-storage"><a class="header" href="#serving-pmtiles-from-local-file-systems-http-or-object-storage">Serving PMTiles from local file systems, http or Object Storage</a></h3>
<p>The settings avaliable for a PMTiles source depend on the backend:</p>
<div class="mdbook-tabs-container">
<nav class="mdbook-tabs">
<button class="mdbook-tab active" data-tabname="local file system">local file system</button>
<button class="mdbook-tab" data-tabname="Http(s)">Http(s)</button>
<button class="mdbook-tab" data-tabname="Amazon S3">Amazon S3</button>
<button class="mdbook-tab" data-tabname="Google Cloud Storage">Google Cloud Storage</button>
<button class="mdbook-tab" data-tabname="Microsoft Azure">Microsoft Azure</button>
</nav>
<div class="mdbook-tab-content" data-tabname="local file system">
<p>For local sources, you need to provide the path or URL.
For example:</p>
<pre><code class="language-bash">martin  path/to/tiles.pmtiles
</code></pre>
<p>The available schemes are:</p>
<ul>
<li><code>file:///path/to/my/file.pmtiles</code></li>
<li><code>path/to/my/file.pmtiles</code></li>
</ul>
<p>You can also configure this via the configuration file:</p>
<pre><code class="language-yaml">pmtiles:
  sources:
    tiles: file:///path/to/my/file.pmtiles
</code></pre>
</div>

<div class="mdbook-tab-content hidden" data-tabname="Http(s)">
<p>For HTTP(s), you need to provide the url.
For example:</p>
<pre><code class="language-bash">martin  https://example.com/tiles.pmtiles
</code></pre>
<p>The available url schemes are:</p>
<ul>
<li><code>http://example.com/path.pmtiles</code></li>
<li><code>https://example.com/path.pmtiles</code></li>
</ul>
<p>If you want more control over your requests, you can configure additional options here as such:</p>
<pre><code class="language-yaml">pmtiles:
  allow_http: true
  sources:
    tiles: s3://bucket/path/to/tiles.pmtiles
</code></pre>
<h3 id="available-http-client-settings"><a class="header" href="#available-http-client-settings">Available http client settings</a></h3>
<h4 id="security-options"><a class="header" href="#security-options">Security options</a></h4>
<div class="table-wrapper">
<table>
<thead>
<tr><th>configuration</th><th>description</th><th>example</th></tr>
</thead>
<tbody>
<tr><td><code>allow_http</code></td><td>Allow non-TLS, i.e. non-HTTPS connections<br><br><strong>Security warning:</strong><br>If you enable this option, attackers may be able to read the data you request</td><td><code>true</code></td></tr>
<tr><td><code>allow_invalid_certificates</code></td><td>Skip certificate validation on https connections<br><br><strong>Security warning:</strong><br>You should think very carefully before using this method. If invalid certificates are trusted, any certificate for any site will be trusted for use. This includes expired certificates. This introduces significant vulnerabilities, and should only be used as a last resort or for testing</td><td><code>true</code></td></tr>
</tbody>
</table>
</div>
<h4 id="connection-options"><a class="header" href="#connection-options">Connection options</a></h4>
<div class="table-wrapper">
<table>
<thead>
<tr><th>configuration</th><th>description</th><th>example</th></tr>
</thead>
<tbody>
<tr><td><code>user_agent</code></td><td>User-Agent header to be used by this client</td><td><code>martin 1.0.0</code></td></tr>
<tr><td><code>randomize_addresses</code></td><td>Randomize order addresses that the DNS resolution yields.<br>This will spread the connections across more servers.</td><td><code>true</code></td></tr>
<tr><td><code>connect_timeout</code></td><td>Timeout for only the connect phase of a Client</td><td><code>5s</code></td></tr>
<tr><td><code>timeout</code></td><td>The timeout is applied from when the request starts connecting until the response body has finished</td><td><code>10s</code></td></tr>
<tr><td><code>pool_idle_timeout</code></td><td>The pool max idle timeout</td><td><code>5m</code></td></tr>
<tr><td><code>pool_max_idle_per_host</code></td><td>maximum number of idle connections per host</td><td><code>10</code></td></tr>
<tr><td><code>http1_only</code></td><td>Only use http1 connections</td><td><code>false</code></td></tr>
<tr><td><code>http2_only</code></td><td>Only use http2 connections</td><td><code>false</code></td></tr>
<tr><td><code>http2_keep_alive_interval</code></td><td>Interval for HTTP2 Ping frames should be sent to keep a connection alive.</td><td><code>15s</code></td></tr>
<tr><td><code>http2_keep_alive_timeout</code></td><td>Timeout for receiving an acknowledgement of the keep-alive ping.</td><td><code>15s</code></td></tr>
<tr><td><code>http2_keep_alive_while_idle</code></td><td>Enable HTTP2 keep alive pings for idle connections</td><td><code>true</code></td></tr>
<tr><td><code>http2_max_frame_size</code></td><td>Sets the maximum frame size to use for HTTP2.</td><td></td></tr>
</tbody>
</table>
</div>
<h4 id="proxy-settings"><a class="header" href="#proxy-settings">Proxy settings</a></h4>
<div class="table-wrapper">
<table>
<thead>
<tr><th>configuration</th><th>description</th><th>example</th></tr>
</thead>
<tbody>
<tr><td><code>proxy_url</code></td><td>HTTP proxy to use for requests</td><td><code>http://proxy.example.com:8080</code></td></tr>
<tr><td><code>proxy_ca_certificate</code></td><td>PEM-formatted CA certificate for proxy connections</td><td><code>-----BEGIN CERTIFICATE-----</code><br>…<br><code>-----END CERTIFICATE-----</code></td></tr>
<tr><td><code>proxy_excludes</code></td><td>List of hosts that bypass proxy</td><td><code>example.com</code>, <code>maplibre.org</code></td></tr>
</tbody>
</table>
</div>
</div>

<div class="mdbook-tab-content hidden" data-tabname="Amazon S3">
<blockquote class="blockquote-tag blockquote-tag-important">
<p class="blockquote-tag-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25Zm7 2.25v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>Important</p>
<p>Even though we name this section <code>Amazon S3</code>, it also works with other providers that support the S3 API, such as <a href="https://www.min.io/">MinIO</a>, <a href="https://docs.ceph.com/en/latest/radosgw/s3/">Ceph</a>, <a href="https://developers.cloudflare.com/r2/">Cloudflare R2</a>, <a href="https://www.hetzner.com/de/storage/object-storage/">hetzner object storage</a> and many more.</p>
</blockquote>
<p>For AWS, you need to provide the bucket name and the prefix of the object key.
For example:</p>
<pre><code class="language-bash">martin  s3://my-bucket/tiles.pmtiles
</code></pre>
<p>The available url schemes are:</p>
<ul>
<li><code>s3://bucket/path</code></li>
<li><code>s3a://bucket/path</code></li>
</ul>
<p>If you want more control over your requests, you can configure additional options here as such:</p>
<pre><code class="language-yaml">pmtiles:
  allow_http: true
  sources:
    tiles: s3://bucket/path/to/tiles.pmtiles
</code></pre>
<blockquote class="blockquote-tag blockquote-tag-tip">
<p class="blockquote-tag-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"></path></svg>Tip</p>
<p>All settings are also available under the <code>aws_</code> prefix.
This can be useful if you want to have different cloud providers.</p>
</blockquote>
<h3 id="available-aws-s3-settings"><a class="header" href="#available-aws-s3-settings">Available AWS S3 settings</a></h3>
<h4 id="aws-specific-authentication--credentials"><a class="header" href="#aws-specific-authentication--credentials">AWS specific Authentication &amp; Credentials</a></h4>
<div class="table-wrapper">
<table>
<thead>
<tr><th>configuration</th><th>description</th><th>example</th></tr>
</thead>
<tbody>
<tr><td><code>access_key_id</code></td><td>AWS Access Key</td><td><code>AKIAIOSFODNN7EXAMPLE</code></td></tr>
<tr><td><code>secret_access_key</code></td><td>Secret Access Key</td><td><code>wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY</code></td></tr>
<tr><td><code>session_token</code><br><code>token</code></td><td>AWS session token used for temporary credentials</td><td><code>IQoJb3JpZ2luX2VjEOr...</code></td></tr>
<tr><td><code>web_identity_token_file</code></td><td>Web identity token file path for AssumeRoleWithWebIdentity</td><td><code>/var/run/secrets/eks.amazonaws.com/serviceaccount/token</code></td></tr>
<tr><td><code>role_arn</code></td><td>Role ARN to assume with web identity token</td><td><code>arn:aws:iam::123456789012:role/MyWebIdentityRole</code></td></tr>
<tr><td><code>role_session_name</code></td><td>Session name for web identity assumption</td><td><code>my-session</code></td></tr>
<tr><td><code>endpoint_url_sts</code></td><td>Custom STS endpoint for web identity token exchange</td><td><code>https://sts.amazonaws.com</code></td></tr>
</tbody>
</table>
</div>
<h4 id="aws-specific-connection--endpoint-configuration"><a class="header" href="#aws-specific-connection--endpoint-configuration">AWS specific Connection &amp; Endpoint Configuration</a></h4>
<div class="table-wrapper">
<table>
<thead>
<tr><th>configuration</th><th>description</th><th>example</th></tr>
</thead>
<tbody>
<tr><td><code>region</code></td><td>AWS region<br>Defaults to <code>us-east-1</code></td><td><code>us-west-2</code></td></tr>
<tr><td><code>bucket</code><br><code>bucket_name</code></td><td>Bucket name</td><td><code>my-app-bucket</code></td></tr>
<tr><td><code>endpoint</code><br><code>endpoint_url</code></td><td>Custom S3 endpoint<br>Defaults to regional endpoint<br>Ensure consistency with <code>virtual_hosted_style_request</code><br>By default, <strong>only HTTPS schemes are enabled</strong>; enabling HTTP can expose sensitive data<br>Local testing example: <code>"http://localhost:4566"</code></td><td><code>https://s3.us-west-2.amazonaws.com</code></td></tr>
<tr><td><code>metadata_endpoint</code></td><td>Instance metadata endpoint (IPv4 default <code>http://169.254.169.254</code>)<br>IPv6 alternative: <code>http://fd00:ec2::254</code></td><td><code>http://169.254.169.254</code></td></tr>
<tr><td><code>container_credentials_relative_uri</code></td><td>ECS container credentials relative URI</td><td><code>/v2/credentials/12345678-1234-1234-1234-123456789012</code></td></tr>
<tr><td><code>container_credentials_full_uri</code></td><td>EKS container credentials full URI</td><td><code>http://169.254.170.2/v2/credentials/abc123</code></td></tr>
<tr><td><code>container_authorization_token_file</code></td><td>Authorization token file for EKS container creds</td><td><code>/var/run/secrets/eks.amazonaws.com/serviceaccount/token</code></td></tr>
</tbody>
</table>
</div>
<h4 id="aws-specific-request-behavior--fallbacks"><a class="header" href="#aws-specific-request-behavior--fallbacks">AWS specific Request Behavior &amp; Fallbacks</a></h4>
<div class="table-wrapper">
<table>
<thead>
<tr><th>configuration</th><th>description</th><th>example</th></tr>
</thead>
<tbody>
<tr><td><code>imdsv1_fallback</code></td><td>Fall back to IMDSv1 if IMDSv2 is <strong>not supported</strong> (useful for older kube2iam deployments)<br><strong>Security note:</strong> AWS recommends IMDSv2 only; IMDSv1 is vulnerable to <a href="https://aws.amazon.com/blogs/security/defense-in-depth-open-firewalls-reverse-proxies-ssrf-vulnerabilities-ec2-instance-metadata-service/">SSRF attacks</a><br>Has no effect if not using instance credentials</td><td><code>true</code></td></tr>
<tr><td><code>virtual_hosted_style_request</code></td><td>Use virtual-hosted-style requests instead of path-style<br>Endpoint must match the style<br>Ensures correct bucket addressing for security and routing</td><td><code>true</code></td></tr>
<tr><td><code>skip_signature</code></td><td>Skip signing request<br><strong>Security warning:</strong> Unsigned requests may expose credentials or allow tampering if endpoint is public</td><td><code>true</code></td></tr>
<tr><td><code>unsigned_payload</code></td><td>Use unsigned payload option (<code>UNSIGNED-PAYLOAD</code>) instead of signed<br><strong>Impact:</strong> Checksums for request body are not computed in canonical requests, which can reduce integrity guarantees<br>Default is signed payload with checksum</td><td><code>true</code></td></tr>
<tr><td><code>disable_tagging</code></td><td>Disable tagging objects (useful if unsupported by backend)</td><td><code>true</code></td></tr>
<tr><td><code>s3_express</code></td><td>Enable S3 Express One Zone</td><td><code>true</code></td></tr>
<tr><td><code>request_payer</code></td><td>Enable S3 Requester Pays</td><td><code>true</code></td></tr>
</tbody>
</table>
</div>
<h4 id="aws-specific-object-integrity--encryption"><a class="header" href="#aws-specific-object-integrity--encryption">AWS Specific Object Integrity &amp; Encryption</a></h4>
<div class="table-wrapper">
<table>
<thead>
<tr><th>configuration</th><th>description</th><th>example</th></tr>
</thead>
<tbody>
<tr><td><code>checksum</code></td><td>Checksum algorithm for uploads</td><td><code>SHA256</code></td></tr>
<tr><td><code>server_side_encryption</code></td><td>Type of server-side encryption:<br><code>AES256</code> (SSE-S3)<br><code>aws:kms</code> (SSE-KMS)<br><code>aws:kms:dsse</code> (DSSE-KMS)<br><code>sse-c</code></td><td><code>AES256</code></td></tr>
<tr><td><code>kms_key_id</code></td><td>KMS Key ID for SSE-KMS or DSSE-KMS</td><td><code>arn:aws:kms:us-east-1:123456789012:key/abcd-1234-efgh-5678</code></td></tr>
<tr><td><code>bucket_key_enabled</code></td><td>Use bucket’s default KMS key (<code>true</code>/<code>false</code>)</td><td><code>true</code></td></tr>
<tr><td><code>customer_encryption_key</code></td><td>Base64-encoded 256-bit key for SSE-C</td><td><code>MDEyMzQ1Njc4OUFCQ0RFRjAxMjM0NTY3ODlBQkNERUY=</code></td></tr>
</tbody>
</table>
</div>
<h4 id="security-options-1"><a class="header" href="#security-options-1">Security options</a></h4>
<div class="table-wrapper">
<table>
<thead>
<tr><th>configuration</th><th>description</th><th>example</th></tr>
</thead>
<tbody>
<tr><td><code>allow_http</code></td><td>Allow non-TLS, i.e. non-HTTPS connections<br><br><strong>Security warning:</strong><br>If you enable this option, attackers may be able to read the data you request</td><td><code>true</code></td></tr>
<tr><td><code>allow_invalid_certificates</code></td><td>Skip certificate validation on https connections<br><br><strong>Security warning:</strong><br>You should think very carefully before using this method. If invalid certificates are trusted, any certificate for any site will be trusted for use. This includes expired certificates. This introduces significant vulnerabilities, and should only be used as a last resort or for testing</td><td><code>true</code></td></tr>
</tbody>
</table>
</div>
<h4 id="connection-options-1"><a class="header" href="#connection-options-1">Connection options</a></h4>
<div class="table-wrapper">
<table>
<thead>
<tr><th>configuration</th><th>description</th><th>example</th></tr>
</thead>
<tbody>
<tr><td><code>user_agent</code></td><td>User-Agent header to be used by this client</td><td><code>martin 1.0.0</code></td></tr>
<tr><td><code>randomize_addresses</code></td><td>Randomize order addresses that the DNS resolution yields.<br>This will spread the connections across more servers.</td><td><code>true</code></td></tr>
<tr><td><code>connect_timeout</code></td><td>Timeout for only the connect phase of a Client</td><td><code>5s</code></td></tr>
<tr><td><code>timeout</code></td><td>The timeout is applied from when the request starts connecting until the response body has finished</td><td><code>10s</code></td></tr>
<tr><td><code>pool_idle_timeout</code></td><td>The pool max idle timeout</td><td><code>5m</code></td></tr>
<tr><td><code>pool_max_idle_per_host</code></td><td>maximum number of idle connections per host</td><td><code>10</code></td></tr>
<tr><td><code>http1_only</code></td><td>Only use http1 connections</td><td><code>false</code></td></tr>
<tr><td><code>http2_only</code></td><td>Only use http2 connections</td><td><code>false</code></td></tr>
<tr><td><code>http2_keep_alive_interval</code></td><td>Interval for HTTP2 Ping frames should be sent to keep a connection alive.</td><td><code>15s</code></td></tr>
<tr><td><code>http2_keep_alive_timeout</code></td><td>Timeout for receiving an acknowledgement of the keep-alive ping.</td><td><code>15s</code></td></tr>
<tr><td><code>http2_keep_alive_while_idle</code></td><td>Enable HTTP2 keep alive pings for idle connections</td><td><code>true</code></td></tr>
<tr><td><code>http2_max_frame_size</code></td><td>Sets the maximum frame size to use for HTTP2.</td><td></td></tr>
</tbody>
</table>
</div>
<h4 id="proxy-settings-1"><a class="header" href="#proxy-settings-1">Proxy settings</a></h4>
<div class="table-wrapper">
<table>
<thead>
<tr><th>configuration</th><th>description</th><th>example</th></tr>
</thead>
<tbody>
<tr><td><code>proxy_url</code></td><td>HTTP proxy to use for requests</td><td><code>http://proxy.example.com:8080</code></td></tr>
<tr><td><code>proxy_ca_certificate</code></td><td>PEM-formatted CA certificate for proxy connections</td><td><code>-----BEGIN CERTIFICATE-----</code><br>…<br><code>-----END CERTIFICATE-----</code></td></tr>
<tr><td><code>proxy_excludes</code></td><td>List of hosts that bypass proxy</td><td><code>example.com</code>, <code>maplibre.org</code></td></tr>
</tbody>
</table>
</div>
</div>

<div class="mdbook-tab-content hidden" data-tabname="Google Cloud Storage">
<p>For Google Cloud, you need to provide the bucket name and the prefix of the object key.
For example:</p>
<pre><code class="language-bash">martin  gs://my-bucket/tiles.pmtiles
</code></pre>
<p>The available url scheme is:</p>
<ul>
<li><code>gs://bucket/path</code></li>
</ul>
<p>If you want more control over your requests, you can configure additional options here as such:</p>
<pre><code class="language-yaml">pmtiles:
  allow_http: true
  sources:
    tiles: gs://bucket/path/to/tiles.pmtiles
</code></pre>
<blockquote class="blockquote-tag blockquote-tag-tip">
<p class="blockquote-tag-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"></path></svg>Tip</p>
<p>All settings are also available under the <code>google_</code> prefix.
This can be useful if you want to have different cloud providers.</p>
</blockquote>
<h3 id="available-google-settings"><a class="header" href="#available-google-settings">Available google settings</a></h3>
<h4 id="google-specific-configuration"><a class="header" href="#google-specific-configuration">Google specific configuration</a></h4>
<div class="table-wrapper">
<table>
<thead>
<tr><th>configuration</th><th>description</th><th>example</th></tr>
</thead>
<tbody>
<tr><td><code>service_account</code><br><code>service_account_path</code></td><td>Path to the service account file</td><td><code>some/path/to/file</code></td></tr>
<tr><td><code>service_account_key</code></td><td>The serialized service account key</td><td><code>{"private_key": "private_key", "private_key_id": "private_key_id", "client_email":"client_email", "disable_oauth":true}</code></td></tr>
<tr><td><code>bucket</code><br><code>bucket_name</code></td><td>Bucket name</td><td><code>foobar-abc</code></td></tr>
<tr><td><code>application_credentials</code></td><td>Set the path to the <a href="https://cloud.google.com/docs/authentication/provide-credentials-adc">application credentials file</a></td><td><code>some/path/to/file</code></td></tr>
<tr><td><code>skip_signature</code></td><td>Skip signing request</td><td><code>true</code></td></tr>
</tbody>
</table>
</div>
<h4 id="security-options-2"><a class="header" href="#security-options-2">Security options</a></h4>
<div class="table-wrapper">
<table>
<thead>
<tr><th>configuration</th><th>description</th><th>example</th></tr>
</thead>
<tbody>
<tr><td><code>allow_http</code></td><td>Allow non-TLS, i.e. non-HTTPS connections<br><br><strong>Security warning:</strong><br>If you enable this option, attackers may be able to read the data you request</td><td><code>true</code></td></tr>
<tr><td><code>allow_invalid_certificates</code></td><td>Skip certificate validation on https connections<br><br><strong>Security warning:</strong><br>You should think very carefully before using this method. If invalid certificates are trusted, any certificate for any site will be trusted for use. This includes expired certificates. This introduces significant vulnerabilities, and should only be used as a last resort or for testing</td><td><code>true</code></td></tr>
</tbody>
</table>
</div>
<h4 id="connection-options-2"><a class="header" href="#connection-options-2">Connection options</a></h4>
<div class="table-wrapper">
<table>
<thead>
<tr><th>configuration</th><th>description</th><th>example</th></tr>
</thead>
<tbody>
<tr><td><code>user_agent</code></td><td>User-Agent header to be used by this client</td><td><code>martin 1.0.0</code></td></tr>
<tr><td><code>randomize_addresses</code></td><td>Randomize order addresses that the DNS resolution yields.<br>This will spread the connections across more servers.</td><td><code>true</code></td></tr>
<tr><td><code>connect_timeout</code></td><td>Timeout for only the connect phase of a Client</td><td><code>5s</code></td></tr>
<tr><td><code>timeout</code></td><td>The timeout is applied from when the request starts connecting until the response body has finished</td><td><code>10s</code></td></tr>
<tr><td><code>pool_idle_timeout</code></td><td>The pool max idle timeout</td><td><code>5m</code></td></tr>
<tr><td><code>pool_max_idle_per_host</code></td><td>maximum number of idle connections per host</td><td><code>10</code></td></tr>
<tr><td><code>http1_only</code></td><td>Only use http1 connections</td><td><code>false</code></td></tr>
<tr><td><code>http2_only</code></td><td>Only use http2 connections</td><td><code>false</code></td></tr>
<tr><td><code>http2_keep_alive_interval</code></td><td>Interval for HTTP2 Ping frames should be sent to keep a connection alive.</td><td><code>15s</code></td></tr>
<tr><td><code>http2_keep_alive_timeout</code></td><td>Timeout for receiving an acknowledgement of the keep-alive ping.</td><td><code>15s</code></td></tr>
<tr><td><code>http2_keep_alive_while_idle</code></td><td>Enable HTTP2 keep alive pings for idle connections</td><td><code>true</code></td></tr>
<tr><td><code>http2_max_frame_size</code></td><td>Sets the maximum frame size to use for HTTP2.</td><td></td></tr>
</tbody>
</table>
</div>
<h4 id="proxy-settings-2"><a class="header" href="#proxy-settings-2">Proxy settings</a></h4>
<div class="table-wrapper">
<table>
<thead>
<tr><th>configuration</th><th>description</th><th>example</th></tr>
</thead>
<tbody>
<tr><td><code>proxy_url</code></td><td>HTTP proxy to use for requests</td><td><code>http://proxy.example.com:8080</code></td></tr>
<tr><td><code>proxy_ca_certificate</code></td><td>PEM-formatted CA certificate for proxy connections</td><td><code>-----BEGIN CERTIFICATE-----</code><br>…<br><code>-----END CERTIFICATE-----</code></td></tr>
<tr><td><code>proxy_excludes</code></td><td>List of hosts that bypass proxy</td><td><code>example.com</code>, <code>maplibre.org</code></td></tr>
</tbody>
</table>
</div>
</div>

<div class="mdbook-tab-content hidden" data-tabname="Microsoft Azure">
<p>For Azure, you need to provide the account name, container and path.
For example:</p>
<pre><code class="language-bash">martin  az://account/container.pmtiles
</code></pre>
<p>The available url schemes are:</p>
<ul>
<li><code>az://account/container/path.pmtiles</code></li>
<li><code>adl://account/container/path.pmtiles</code></li>
<li><code>azure://account/container/path.pmtiles</code></li>
<li><code>abfs://account/container/path.pmtiles</code></li>
<li><code>abfss://account/container/path.pmtiles</code></li>
</ul>
<p>If you want more control over your requests, you can configure additional options here as such:</p>
<pre><code class="language-yaml">pmtiles:
  allow_http: true
  sources:
    tiles: az://account/container/path.pmtiles
</code></pre>
<blockquote class="blockquote-tag blockquote-tag-tip">
<p class="blockquote-tag-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"></path></svg>Tip</p>
<p>All settings are also available under the <code>azure_</code> prefix.
This can be useful if you want to have different cloud providers.</p>
</blockquote>
<h3 id="available-azure-settings"><a class="header" href="#available-azure-settings">Available azure settings</a></h3>
<h4 id="azure-specific-authentication--credentials"><a class="header" href="#azure-specific-authentication--credentials">Azure specific Authentication &amp; Credentials</a></h4>
<div class="table-wrapper">
<table>
<thead>
<tr><th>configuration</th><th>description</th><th>example</th></tr>
</thead>
<tbody>
<tr><td><code>account_name</code></td><td>Name of the Azure Storage account</td><td><code>myaccount</code></td></tr>
<tr><td><code>access_key</code><br><code>account_key</code><br><code>master_key</code></td><td>Master key for accessing the storage account<br><br><strong>Security note:</strong><br> Keep this key secret; anyone with access can read/write all data in the account</td><td><code>abcd1234efgh5678ijkl9012mnop3456qrst7890uvwx1234yzab5678cdef9012</code></td></tr>
<tr><td><code>client_id</code></td><td>Service principal client ID for OAuth authorization</td><td><code>12345678-90ab-cdef-1234-567890abcdef</code></td></tr>
<tr><td><code>client_secret</code></td><td>Service principal client secret for OAuth authorization<br><strong>Security note:</strong> Must be kept confidential</td><td><code>s3cr3tV@lu3!</code></td></tr>
<tr><td><code>tenant_id</code><br><code>authority_id</code></td><td>Tenant ID used in OAuth flows</td><td><code>abcdef12-3456-7890-abcd-ef1234567890</code></td></tr>
<tr><td><code>authority_host</code></td><td>Authority host used in OAuth flows</td><td><code>https://login.microsoftonline.com/</code></td></tr>
<tr><td><code>sas_key</code><br><code>sas_token</code></td><td>Shared Access Signature (percent-encoded)<br><br><strong>Security note:</strong><br> Grants scoped access; treat as sensitive credentials</td><td><code>sv=2021-06-08&amp;ss=b&amp;srt=sco&amp;sp=rwdl</code><br><code>&amp;se=2025-12-31T23:59:00Z&amp;sig=ABCDEF1234567890</code></td></tr>
<tr><td><code>bearer_token</code><br><code>token</code></td><td>Bearer token for requests<br><br><strong>Security note:</strong><br> Token must be protected; use HTTPS</td><td><code>eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...</code></td></tr>
<tr><td><code>identity_endpoint</code><br><code>msi_endpoint</code></td><td>Endpoint to request a managed identity token</td><td><code>http://169.254.169.254/metadata/identity/oauth2/token</code></td></tr>
<tr><td><code>object_id</code></td><td>Object ID for use with managed identity authentication</td><td><code>12345678-90ab-cdef-1234-567890abcdef</code></td></tr>
<tr><td><code>msi_resource_id</code></td><td>Resource ID for managed identity authentication</td><td><code>/subscriptions/12345678-90ab-cdef-1234-567890abcdef/</code><br><code>resourcegroups/myrg/providers/Microsoft.ManagedIdentity/</code><br><code>userAssignedIdentities/myidentity</code></td></tr>
<tr><td><code>federated_token_file</code></td><td>File containing token for Azure AD workload identity federation</td><td><code>/var/run/secrets/azure/federated-token</code></td></tr>
<tr><td><code>use_azure_cli</code></td><td>Use Azure CLI for acquiring access token</td><td><code>true</code></td></tr>
</tbody>
</table>
</div>
<h4 id="azure-specific-connection--endpoint-configuration"><a class="header" href="#azure-specific-connection--endpoint-configuration">Azure specific Connection &amp; Endpoint Configuration</a></h4>
<div class="table-wrapper">
<table>
<thead>
<tr><th>configuration</th><th>description</th><th>example</th></tr>
</thead>
<tbody>
<tr><td><code>endpoint</code></td><td>Override endpoint used to communicate with blob storage</td><td><code>https://myaccount.blob.core.windows.net</code></td></tr>
<tr><td><code>object_store_use_emulator</code><br><code>use_emulator</code></td><td>Use Azurite storage emulator</td><td><code>true</code></td></tr>
<tr><td><code>use_fabric_endpoint</code></td><td>Use Azure Fabric endpoint (account.dfs.fabric.microsoft.com)</td><td><code>true</code></td></tr>
<tr><td><code>container_name</code></td><td>Container name in the storage account</td><td><code>mycontainer</code></td></tr>
</tbody>
</table>
</div>
<h4 id="azure-specific-request-behavior--security-options"><a class="header" href="#azure-specific-request-behavior--security-options">Azure specific Request Behavior &amp; Security Options</a></h4>
<div class="table-wrapper">
<table>
<thead>
<tr><th>configuration</th><th>description</th><th>example</th></tr>
</thead>
<tbody>
<tr><td><code>skip_signature</code></td><td>Skip signing requests<br><br><strong>Security warning:</strong><br> Unsigned requests may expose sensitive data or allow tampering; use only in secure or local environments</td><td><code>true</code></td></tr>
<tr><td><code>disable_tagging</code></td><td>Disable object tagging (useful if backend does not support it)</td><td><code>true</code></td></tr>
<tr><td><code>fabric_token_service_url</code></td><td>URL of Fabric token service</td><td><code>https://fabric-token.mycompany.com</code></td></tr>
<tr><td><code>fabric_workload_host</code></td><td>Host for Fabric workload</td><td><code>https://workload.fabric.mycompany.com</code></td></tr>
<tr><td><code>fabric_session_token</code></td><td>Session token for Fabric<br><br><strong>Security note:</strong> Must be protected; use HTTPS</td><td><code>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...</code></td></tr>
<tr><td><code>fabric_cluster_identifier</code></td><td>Identifier for Fabric cluster</td><td><code>fabric-cluster-01</code></td></tr>
</tbody>
</table>
</div>
<h4 id="security-options-3"><a class="header" href="#security-options-3">Security options</a></h4>
<div class="table-wrapper">
<table>
<thead>
<tr><th>configuration</th><th>description</th><th>example</th></tr>
</thead>
<tbody>
<tr><td><code>allow_http</code></td><td>Allow non-TLS, i.e. non-HTTPS connections<br><br><strong>Security warning:</strong><br>If you enable this option, attackers may be able to read the data you request</td><td><code>true</code></td></tr>
<tr><td><code>allow_invalid_certificates</code></td><td>Skip certificate validation on https connections<br><br><strong>Security warning:</strong><br>You should think very carefully before using this method. If invalid certificates are trusted, any certificate for any site will be trusted for use. This includes expired certificates. This introduces significant vulnerabilities, and should only be used as a last resort or for testing</td><td><code>true</code></td></tr>
</tbody>
</table>
</div>
<h4 id="connection-options-3"><a class="header" href="#connection-options-3">Connection options</a></h4>
<div class="table-wrapper">
<table>
<thead>
<tr><th>configuration</th><th>description</th><th>example</th></tr>
</thead>
<tbody>
<tr><td><code>user_agent</code></td><td>User-Agent header to be used by this client</td><td><code>martin 1.0.0</code></td></tr>
<tr><td><code>randomize_addresses</code></td><td>Randomize order addresses that the DNS resolution yields.<br>This will spread the connections across more servers.</td><td><code>true</code></td></tr>
<tr><td><code>connect_timeout</code></td><td>Timeout for only the connect phase of a Client</td><td><code>5s</code></td></tr>
<tr><td><code>timeout</code></td><td>The timeout is applied from when the request starts connecting until the response body has finished</td><td><code>10s</code></td></tr>
<tr><td><code>pool_idle_timeout</code></td><td>The pool max idle timeout</td><td><code>5m</code></td></tr>
<tr><td><code>pool_max_idle_per_host</code></td><td>maximum number of idle connections per host</td><td><code>10</code></td></tr>
<tr><td><code>http1_only</code></td><td>Only use http1 connections</td><td><code>false</code></td></tr>
<tr><td><code>http2_only</code></td><td>Only use http2 connections</td><td><code>false</code></td></tr>
<tr><td><code>http2_keep_alive_interval</code></td><td>Interval for HTTP2 Ping frames should be sent to keep a connection alive.</td><td><code>15s</code></td></tr>
<tr><td><code>http2_keep_alive_timeout</code></td><td>Timeout for receiving an acknowledgement of the keep-alive ping.</td><td><code>15s</code></td></tr>
<tr><td><code>http2_keep_alive_while_idle</code></td><td>Enable HTTP2 keep alive pings for idle connections</td><td><code>true</code></td></tr>
<tr><td><code>http2_max_frame_size</code></td><td>Sets the maximum frame size to use for HTTP2.</td><td></td></tr>
</tbody>
</table>
</div>
<h4 id="proxy-settings-3"><a class="header" href="#proxy-settings-3">Proxy settings</a></h4>
<div class="table-wrapper">
<table>
<thead>
<tr><th>configuration</th><th>description</th><th>example</th></tr>
</thead>
<tbody>
<tr><td><code>proxy_url</code></td><td>HTTP proxy to use for requests</td><td><code>http://proxy.example.com:8080</code></td></tr>
<tr><td><code>proxy_ca_certificate</code></td><td>PEM-formatted CA certificate for proxy connections</td><td><code>-----BEGIN CERTIFICATE-----</code><br>…<br><code>-----END CERTIFICATE-----</code></td></tr>
<tr><td><code>proxy_excludes</code></td><td>List of hosts that bypass proxy</td><td><code>example.com</code>, <code>maplibre.org</code></td></tr>
</tbody>
</table>
</div>
</div>

</div>


                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="sources-tiles.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="pg-connections.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="sources-tiles.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="pg-connections.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr-ef4e11c1.min.js"></script>
        <script src="mark-09e88c2c.min.js"></script>
        <script src="searcher-c2a407aa.js"></script>

        <script src="clipboard-1626706a.min.js"></script>
        <script src="highlight-abc7f01d.js"></script>
        <script src="book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->
        <script src="theme/tabs-4258a7db.js"></script>
        <script src="theme/mermaid-4194ac88.min.js"></script>
        <script src="theme/mermaid-init-e151941c.js"></script>



    </div>
    </body>
</html>
