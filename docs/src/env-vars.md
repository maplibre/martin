## Environment Variables

You can also configure Martin using environment variables, but only if the configuration file is not used.
See [configuration section](config-file.md) on how to use environment variables with config files.
See also [SSL configuration](pg-connections.md#postgresql-ssl-connections) section below.

| Environment var <br/> Config File key    | Example                                     | Description                                                                                                                                                                                                |
|------------------------------------------|---------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| `DATABASE_URL` <br/> `connection_string` | `postgresql://`<br/>`postgres@localhost/db` | Postgres database connection                                                                                                                                                                               |
| `DEFAULT_SRID` <br/> `default_srid`      | `4326`                                      | If a PostgreSQL table has a geometry column with SRID=0, use this value instead                                                                                                                            |
| `PGSSLCERT` <br/> `ssl_cert`             | `./postgresql.crt`                          | A file with a client SSL certificate. [docs](https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-CONNECT-SSLCERT)                                                                             |
| `PGSSLKEY` <br/> `ssl_key`               | `./postgresql.key`                          | A file with the key for the client SSL certificate. [docs](https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-CONNECT-SSLKEY)                                                                |
| `PGSSLROOTCERT` <br/> `ssl_root_cert`    | `./root.crt`                                | A file with trusted root certificate(s). The file should contain a sequence of PEM-formatted CA certificates. [docs](https://www.postgresql.org/docs/current/libpq-connect.html#LIBPQ-CONNECT-SSLROOTCERT) |
| `AWS_LAMBDA_RUNTIME_API` <br/> -         |                                             | If defined, connect to AWS Lambda to handle requests. The regular HTTP server is not used. See [Running in AWS Lambda](run-with-lambda.md)                                                                 |

To [access PMTiles via S3](sources-files.md#serving-pmtiles-via-s3), we also support the following configuration options:

| Environment var <br/> Config File key                      | Example                                    | Description                                                                                                                                                               |
| ---------------------------------------------------------- | ------------------------------------------ | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `AWS_ACCESS_KEY_ID` <br/> -                                | `AKIAEXAMPLE12345678`                      | AWS access key ID used for authenticating requests when using long-term or temporary credentials.                                                                         |
| `AWS_SECRET_ACCESS_KEY` <br/> -                            | `wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY` | AWS secret access key paired with the access key ID.                                                                                                                      |
| `AWS_SESSION_TOKEN` <br/> -                                | `FwoGZXIvYXdzEF0aD...`                     | Session token used with temporary security credentials (e.g., from AWS STS). Required if you're using `AssumeRole`.                                                       |
| `AWS_PROFILE` <br/> -                                      | `default`                                  | Specifies which named profile to use from the AWS credentials/config files.                                                                                               |
| `AWS_REGION` <br/> -                                       | `us-west-2`                                | Sets the AWS region to send requests to, e.g., `us-east-1`, `eu-central-1`.                                                                                               |
| `AWS_NO_CREDENTIALS` <br/> `pmtiles.require_credentials`   | `true`                                     | Disable credential loading and to send requests anonymously for publicly available buckets.                                                                               |
| `AWS_S3_FORCE_PATH_STYLE` <br/> `pmtiles.force_path_style` | `true`                                     | Forces the AWS SDK to use path-style URLs for S3 like `s3.amazonaws.com/bucket/key`) instead of virtual-hosted style. Useful for local S3-compatible services like MinIO. |
