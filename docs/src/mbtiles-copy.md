# Copying, Diffing, and Patching MBTiles

## `mbtiles copy`

Copy command copies an mbtiles file, optionally filtering its content by zoom levels.

```shell
mbtiles copy src_file.mbtiles dst_file.mbtiles \
        --min-zoom 0 --max-zoom 10
```

This command can also be used to generate files of different [supported schema](mbtiles-schema.md).

```shell
mbtiles copy normalized.mbtiles dst.mbtiles \
         --dst-mbttype flat-with-hash
```

## `mbtiles copy --diff-with-file`

This option is identical to using [`mbtiles diff ...`](mbtiles-diff.md). The following commands two are equivalent:

```shell
mbtiles diff file1.mbtiles file2.mbtiles diff.mbtiles

mbtiles copy file1.mbtiles diff.mbtiles \
        --diff-with-file file2.mbtiles
```

## `mbtiles copy --apply-patch`

Copy a source file to destination while also applying the diff file generated by `copy --diff-with-file` command above to the destination mbtiles file. This allows safer application of the diff file, as the source file is not modified.

```shell
mbtiles copy src_file.mbtiles dst_file.mbtiles \
        --apply-patch diff.mbtiles
```
