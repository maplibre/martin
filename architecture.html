<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Architecture - Martin Tile Server Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon-de23e50b.svg">
        <link rel="shortcut icon" href="favicon-8114d1fc.png">
        <link rel="stylesheet" href="css/variables-8adf115d.css">
        <link rel="stylesheet" href="css/general-2459343d.css">
        <link rel="stylesheet" href="css/chrome-ae938929.css">
        <link rel="stylesheet" href="css/print-9e4910d8.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="fonts/fonts-9644e21d.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="mdbook-highlight-css" href="highlight-493f70e1.css">
        <link rel="stylesheet" id="mdbook-tomorrow-night-css" href="tomorrow-night-4c0ae647.css">
        <link rel="stylesheet" id="mdbook-ayu-highlight-css" href="ayu-highlight-3fdfc3ac.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/tabs-478bfc3b.css">


        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
            window.path_to_searchindex_js = "searchindex-c9ce49e5.js";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc-da940ac3.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="mdbook-body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="mdbook-sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("mdbook-sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
                sidebar_toggle.checked = false;
            }
            if (sidebar === 'visible') {
                sidebar_toggle.checked = true;
            } else {
                html.classList.remove('sidebar-visible');
            }
        </script>

        <nav id="mdbook-sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="mdbook-sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="mdbook-page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="mdbook-menu-bar-hover-placeholder"></div>
                <div id="mdbook-menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="mdbook-sidebar-toggle" class="icon-button" for="mdbook-sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="mdbook-sidebar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M0 96C0 78.3 14.3 64 32 64H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32H416c17.7 0 32 14.3 32 32s-14.3 32-32 32H32c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32s14.3-32 32-32H416c17.7 0 32 14.3 32 32z"/></svg></span>
                        </label>
                        <button id="mdbook-theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="mdbook-theme-list">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M371.3 367.1c27.3-3.9 51.9-19.4 67.2-42.9L600.2 74.1c12.6-19.5 9.4-45.3-7.6-61.2S549.7-4.4 531.1 9.6L294.4 187.2c-24 18-38.2 46.1-38.4 76.1L371.3 367.1zm-19.6 25.4l-116-104.4C175.9 290.3 128 339.6 128 400c0 3.9 .2 7.8 .6 11.6c1.8 17.5-10.2 36.4-27.8 36.4H96c-17.7 0-32 14.3-32 32s14.3 32 32 32H240c61.9 0 112-50.1 112-112c0-2.5-.1-5-.2-7.5z"/></svg></span>
                        </button>
                        <ul id="mdbook-theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="mdbook-theme-ayu">Ayu</button></li>
                        </ul>
                        <button id="mdbook-search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="mdbook-searchbar">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352c79.5 0 144-64.5 144-144s-64.5-144-144-144S64 128.5 64 208s64.5 144 144 144z"/></svg></span>
                        </button>
                    </div>

                    <h1 class="menu-title">Martin Tile Server Documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <span class=fa-svg id="print-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M128 0C92.7 0 64 28.7 64 64v96h64V64H354.7L384 93.3V160h64V93.3c0-17-6.7-33.3-18.7-45.3L400 18.7C388 6.7 371.7 0 354.7 0H128zM384 352v32 64H128V384 368 352H384zm64 32h32c17.7 0 32-14.3 32-32V256c0-35.3-28.7-64-64-64H64c-35.3 0-64 28.7-64 64v96c0 17.7 14.3 32 32 32H64v64c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V384zm-16-88c-13.3 0-24-10.7-24-24s10.7-24 24-24s24 10.7 24 24s-10.7 24-24 24z"/></svg></span>
                        </a>
                        <a href="https://github.com/maplibre/martin" title="Git repository" aria-label="Git repository">
                            <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg></span>
                        </a>
                        <a href="https://github.com/maplibre/martin/edit/main/docs/src/architecture.md" title="Suggest an edit" aria-label="Suggest an edit" rel="edit">
                            <span class=fa-svg id="git-edit-button"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M421.7 220.3l-11.3 11.3-22.6 22.6-205 205c-6.6 6.6-14.8 11.5-23.8 14.1L30.8 511c-8.4 2.5-17.5 .2-23.7-6.1S-1.5 489.7 1 481.2L38.7 353.1c2.6-9 7.5-17.2 14.1-23.8l205-205 22.6-22.6 11.3-11.3 33.9 33.9 62.1 62.1 33.9 33.9zM96 353.9l-9.3 9.3c-.9 .9-1.6 2.1-2 3.4l-25.3 86 86-25.3c1.3-.4 2.5-1.1 3.4-2l9.3-9.3H112c-8.8 0-16-7.2-16-16V353.9zM453.3 19.3l39.4 39.4c25 25 25 65.5 0 90.5l-14.5 14.5-22.6 22.6-11.3 11.3-33.9-33.9-62.1-62.1L314.3 67.7l11.3-11.3 22.6-22.6 14.5-14.5c25-25 65.5-25 90.5 0z"/></svg></span>
                        </a>

                    </div>
                </div>

                <div id="mdbook-search-wrapper" class="hidden">
                    <form id="mdbook-searchbar-outer" class="searchbar-outer">
                        <div class="search-wrapper">
                            <input type="search" id="mdbook-searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="mdbook-searchresults-outer" aria-describedby="searchresults-header">
                            <div class="spinner-wrapper">
                                <span class=fa-svg id="fa-spin"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M304 48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zm0 416c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM48 304c26.5 0 48-21.5 48-48s-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48zm464-48c0-26.5-21.5-48-48-48s-48 21.5-48 48s21.5 48 48 48s48-21.5 48-48zM142.9 437c18.7-18.7 18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zm0-294.2c18.7-18.7 18.7-49.1 0-67.9S93.7 56.2 75 75s-18.7 49.1 0 67.9s49.1 18.7 67.9 0zM369.1 437c18.7 18.7 49.1 18.7 67.9 0s18.7-49.1 0-67.9s-49.1-18.7-67.9 0s-18.7 49.1 0 67.9z"/></svg></span>
                            </div>
                        </div>
                    </form>
                    <div id="mdbook-searchresults-outer" class="searchresults-outer hidden">
                        <div id="mdbook-searchresults-header" class="searchresults-header"></div>
                        <ul id="mdbook-searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('mdbook-sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('mdbook-sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#mdbook-sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="mdbook-content" class="content">
                    <main>
                        <h1 id="architecture"><a class="header" href="#architecture">Architecture</a></h1>
<p>This document provides a high-level overview of Martin’s architecture, describing its major components, how they interact, and the rationale behind key design decisions.</p>
<h2 id="overview"><a class="header" href="#overview">Overview</a></h2>
<p>Martin is a blazing fast tile server written in Rust that generates and serves vector tiles on the fly from multiple data sources. It is designed to handle heavy traffic and optimize for speed while maintaining a clean separation of concerns.</p>
<p><svg id="mermaid-diagram-7506884357259863448" width="100%" xmlns="http://www.w3.org/2000/svg" class="flowchart" style="max-width: 1476.0703125px;" viewbox="0 0 1476.0703125 1124.7288818359375" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#mermaid-diagram-7506884357259863448{font-family:“trebuchet ms”,verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-diagram-7506884357259863448 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-diagram-7506884357259863448 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-diagram-7506884357259863448 .error-icon{fill:#552222;}#mermaid-diagram-7506884357259863448 .error-text{fill:#552222;stroke:#552222;}#mermaid-diagram-7506884357259863448 .edge-thickness-normal{stroke-width:1px;}#mermaid-diagram-7506884357259863448 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-diagram-7506884357259863448 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-diagram-7506884357259863448 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-diagram-7506884357259863448 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-diagram-7506884357259863448 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-diagram-7506884357259863448 .marker{fill:#333333;stroke:#333333;}#mermaid-diagram-7506884357259863448 .marker.cross{stroke:#333333;}#mermaid-diagram-7506884357259863448 svg{font-family:“trebuchet ms”,verdana,arial,sans-serif;font-size:16px;}#mermaid-diagram-7506884357259863448 p{margin:0;}#mermaid-diagram-7506884357259863448 .label{font-family:“trebuchet ms”,verdana,arial,sans-serif;color:#333;}#mermaid-diagram-7506884357259863448 .cluster-label text{fill:#333;}#mermaid-diagram-7506884357259863448 .cluster-label span{color:#333;}#mermaid-diagram-7506884357259863448 .cluster-label span p{background-color:transparent;}#mermaid-diagram-7506884357259863448 .label text,#mermaid-diagram-7506884357259863448 span{fill:#333;color:#333;}#mermaid-diagram-7506884357259863448 .node rect,#mermaid-diagram-7506884357259863448 .node circle,#mermaid-diagram-7506884357259863448 .node ellipse,#mermaid-diagram-7506884357259863448 .node polygon,#mermaid-diagram-7506884357259863448 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-diagram-7506884357259863448 .rough-node .label text,#mermaid-diagram-7506884357259863448 .node .label text,#mermaid-diagram-7506884357259863448 .image-shape .label,#mermaid-diagram-7506884357259863448 .icon-shape .label{text-anchor:middle;}#mermaid-diagram-7506884357259863448 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-diagram-7506884357259863448 .rough-node .label,#mermaid-diagram-7506884357259863448 .node .label,#mermaid-diagram-7506884357259863448 .image-shape .label,#mermaid-diagram-7506884357259863448 .icon-shape .label{text-align:center;}#mermaid-diagram-7506884357259863448 .node.clickable{cursor:pointer;}#mermaid-diagram-7506884357259863448 .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#mermaid-diagram-7506884357259863448 .arrowheadPath{fill:#333333;}#mermaid-diagram-7506884357259863448 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-diagram-7506884357259863448 .flowchart-link{stroke:#333333;fill:none;}#mermaid-diagram-7506884357259863448 .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-diagram-7506884357259863448 .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#mermaid-diagram-7506884357259863448 .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-diagram-7506884357259863448 .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-diagram-7506884357259863448 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-diagram-7506884357259863448 .cluster text{fill:#333;}#mermaid-diagram-7506884357259863448 .cluster span{color:#333;}#mermaid-diagram-7506884357259863448 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:“trebuchet ms”,verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-diagram-7506884357259863448 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-diagram-7506884357259863448 rect.text{fill:none;stroke-width:0;}#mermaid-diagram-7506884357259863448 .icon-shape,#mermaid-diagram-7506884357259863448 .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-diagram-7506884357259863448 .icon-shape p,#mermaid-diagram-7506884357259863448 .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#mermaid-diagram-7506884357259863448 .icon-shape rect,#mermaid-diagram-7506884357259863448 .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-diagram-7506884357259863448 .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-diagram-7506884357259863448 .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-diagram-7506884357259863448 :root{–mermaid-font-family:“trebuchet ms”,verdana,arial,sans-serif;}</style><g><marker id="mermaid-diagram-7506884357259863448_flowchart-v2-pointEnd" class="marker flowchart-v2" viewbox="0 0 10 10" refx="5" refy="5" markerunits="userSpaceOnUse" markerwidth="8" markerheight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-diagram-7506884357259863448_flowchart-v2-pointStart" class="marker flowchart-v2" viewbox="0 0 10 10" refx="4.5" refy="5" markerunits="userSpaceOnUse" markerwidth="8" markerheight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-diagram-7506884357259863448_flowchart-v2-circleEnd" class="marker flowchart-v2" viewbox="0 0 10 10" refx="11" refy="5" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-diagram-7506884357259863448_flowchart-v2-circleStart" class="marker flowchart-v2" viewbox="0 0 10 10" refx="-1" refy="5" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-diagram-7506884357259863448_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewbox="0 0 11 11" refx="12" refy="5.2" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-diagram-7506884357259863448_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewbox="0 0 11 11" refx="-1" refy="5.2" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"><g class="cluster" id="Storage" data-look="classic"><rect style="" x="354.2421875" y="970" width="880.4453125" height="146.72885131835938"></rect><g class="cluster-label" transform="translate(747.32421875, 970)"><foreignobject width="94.28125" height="24">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>Data Storage</p>
</span></div>
</foreignobject></g></g><g class="cluster" id="Martin" data-look="classic"><rect style="" x="8" y="160" width="1460.0703125" height="760"></rect><g class="cluster-label" transform="translate(675.34765625, 160)"><foreignobject width="125.375" height="24">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>Martin Tile Server</p>
</span></div>
</foreignobject></g></g><g class="cluster" id="Sources" data-look="classic"><rect style="" x="307.7265625" y="767" width="922.734375" height="128"></rect><g class="cluster-label" transform="translate(724.9296875, 767)"><foreignobject width="88.328125" height="24">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>Tile Sources</p>
</span></div>
</foreignobject></g></g></g><g class="edgePaths"><path d="M500.036,86L490.084,92.167C480.131,98.333,460.226,110.667,450.273,123C440.32,135.333,440.32,147.667,440.32,157.333C440.32,167,440.32,174,440.32,177.5L440.32,181" id="L_Client_Server_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Client_Server_0" data-points="W3sieCI6NTAwLjAzNjQ0MTIwMDY1NzksInkiOjg2fSx7IngiOjQ0MC4zMjAzMTI1LCJ5IjoxMjN9LHsieCI6NDQwLjMyMDMxMjUsInkiOjE2MH0seyJ4Ijo0NDAuMzIwMzEyNSwieSI6MTg1fV0=" marker-end="url(#mermaid-diagram-7506884357259863448_flowchart-v2-pointEnd)"></path><path d="M440.32,263L440.32,267.167C440.32,271.333,440.32,279.667,440.32,314.5C440.32,349.333,440.32,410.667,440.32,441.333L440.32,472" id="L_Server_Catalog_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Server_Catalog_0" data-points="W3sieCI6NDQwLjMyMDMxMjUsInkiOjI2M30seyJ4Ijo0NDAuMzIwMzEyNSwieSI6Mjg4fSx7IngiOjQ0MC4zMjAzMTI1LCJ5Ijo0NzZ9XQ==" marker-end="url(#mermaid-diagram-7506884357259863448_flowchart-v2-pointEnd)"></path><path d="M516.852,234.832L579.458,243.693C642.065,252.555,767.279,270.277,845.14,309.875C923.001,349.472,953.51,410.945,968.764,441.681L984.018,472.417" id="L_Server_Cache_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Server_Cache_0" data-points="W3sieCI6NTE2Ljg1MTU2MjUsInkiOjIzNC44MzIxNjQyMDc0NzA5fSx7IngiOjg5Mi40OTIxODc1LCJ5IjoyODh9LHsieCI6OTg1Ljc5NjYzNDA4NTkwMzEsInkiOjQ3Nn1d" marker-end="url(#mermaid-diagram-7506884357259863448_flowchart-v2-pointEnd)"></path><path d="M440.32,870L440.32,874.167C440.32,878.333,440.32,886.667,440.32,895C440.32,903.333,440.32,911.667,440.32,920C440.32,928.333,440.32,936.667,440.32,945C440.32,953.333,440.32,961.667,440.32,969.333C440.32,977,440.32,984,440.32,987.5L440.32,991" id="L_PG_DB_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_PG_DB_0" data-points="W3sieCI6NDQwLjMyMDMxMjUsInkiOjg3MH0seyJ4Ijo0NDAuMzIwMzEyNSwieSI6ODk1fSx7IngiOjQ0MC4zMjAzMTI1LCJ5Ijo5MjB9LHsieCI6NDQwLjMyMDMxMjUsInkiOjk0NX0seyJ4Ijo0NDAuMzIwMzEyNSwieSI6OTcwfSx7IngiOjQ0MC4zMjAzMTI1LCJ5Ijo5OTV9XQ==" marker-end="url(#mermaid-diagram-7506884357259863448_flowchart-v2-pointEnd)"></path><path d="M665.625,858L665.625,864.167C665.625,870.333,665.625,882.667,665.625,893C665.625,903.333,665.625,911.667,665.625,920C665.625,928.333,665.625,936.667,665.625,945C665.625,953.333,665.625,961.667,667.715,970.944C669.804,980.221,673.984,990.441,676.074,995.552L678.163,1000.662" id="L_MBT_Files_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_MBT_Files_0" data-points="W3sieCI6NjY1LjYyNSwieSI6ODU4fSx7IngiOjY2NS42MjUsInkiOjg5NX0seyJ4Ijo2NjUuNjI1LCJ5Ijo5MjB9LHsieCI6NjY1LjYyNSwieSI6OTQ1fSx7IngiOjY2NS42MjUsInkiOjk3MH0seyJ4Ijo2NzkuNjc3MjE2MTg2NjkzNCwieSI6MTAwNC4zNjQ0MjU2NTkxNzk3fV0=" marker-end="url(#mermaid-diagram-7506884357259863448_flowchart-v2-pointEnd)"></path><path d="M820.956,870L814.62,874.167C808.284,878.333,795.613,886.667,789.277,895C782.941,903.333,782.941,911.667,782.941,920C782.941,928.333,782.941,936.667,782.941,945C782.941,953.333,782.941,961.667,776.635,971.132C770.329,980.597,757.717,991.194,751.41,996.493L745.104,1001.791" id="L_PMT_Files_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_PMT_Files_0" data-points="W3sieCI6ODIwLjk1NTYyNzQ0MTQwNjIsInkiOjg3MH0seyJ4Ijo3ODIuOTQxNDA2MjUsInkiOjg5NX0seyJ4Ijo3ODIuOTQxNDA2MjUsInkiOjkyMH0seyJ4Ijo3ODIuOTQxNDA2MjUsInkiOjk0NX0seyJ4Ijo3ODIuOTQxNDA2MjUsInkiOjk3MH0seyJ4Ijo3NDIuMDQxNzcyMzQwOTk1MSwieSI6MTAwNC4zNjQ0MjU2NTkxNzk3fV0=" marker-end="url(#mermaid-diagram-7506884357259863448_flowchart-v2-pointEnd)"></path><path d="M955.23,870L963.24,874.167C971.25,878.333,987.269,886.667,995.279,895C1003.289,903.333,1003.289,911.667,1003.289,920C1003.289,928.333,1003.289,936.667,1003.289,945C1003.289,953.333,1003.289,961.667,1011.554,971.198C1019.819,980.729,1036.349,991.458,1044.614,996.822L1052.879,1002.187" id="L_PMT_S3_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_PMT_S3_0" data-points="W3sieCI6OTU1LjIyOTk4MDQ2ODc1LCJ5Ijo4NzB9LHsieCI6MTAwMy4yODkwNjI1LCJ5Ijo4OTV9LHsieCI6MTAwMy4yODkwNjI1LCJ5Ijo5MjB9LHsieCI6MTAwMy4yODkwNjI1LCJ5Ijo5NDV9LHsieCI6MTAwMy4yODkwNjI1LCJ5Ijo5NzB9LHsieCI6MTA1Ni4yMzM3MTQ1Mjg0MDY0LCJ5IjoxMDA0LjM2NDQyNTY1OTE3OTd9XQ==" marker-end="url(#mermaid-diagram-7506884357259863448_flowchart-v2-pointEnd)"></path><path d="M1017.18,859.476L998.645,865.396C980.111,871.317,943.042,883.159,924.507,893.246C905.973,903.333,905.973,911.667,905.973,920C905.973,928.333,905.973,936.667,905.973,945C905.973,953.333,905.973,961.667,886.447,972.644C866.92,983.621,827.868,997.241,808.342,1004.051L788.816,1010.862" id="L_COG_Files_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_COG_Files_0" data-points="W3sieCI6MTAxNy4xNzk2ODc1LCJ5Ijo4NTkuNDc1NTAxNTY5NTM3M30seyJ4Ijo5MDUuOTcyNjU2MjUsInkiOjg5NX0seyJ4Ijo5MDUuOTcyNjU2MjUsInkiOjkyMH0seyJ4Ijo5MDUuOTcyNjU2MjUsInkiOjk0NX0seyJ4Ijo5MDUuOTcyNjU2MjUsInkiOjk3MH0seyJ4Ijo3ODUuMDM5MDYyNSwieSI6MTAxMi4xNzg4NTY2OTE1MzY1fV0=" marker-end="url(#mermaid-diagram-7506884357259863448_flowchart-v2-pointEnd)"></path><path d="M1138.051,870L1141.441,874.167C1144.831,878.333,1151.611,886.667,1155.001,895C1158.391,903.333,1158.391,911.667,1158.391,920C1158.391,928.333,1158.391,936.667,1158.391,945C1158.391,953.333,1158.391,961.667,1155.438,970.982C1152.485,980.298,1146.58,990.596,1143.627,995.745L1140.674,1000.894" id="L_COG_S3_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_COG_S3_0" data-points="W3sieCI6MTEzOC4wNTA2NTkxNzk2ODc1LCJ5Ijo4NzB9LHsieCI6MTE1OC4zOTA2MjUsInkiOjg5NX0seyJ4IjoxMTU4LjM5MDYyNSwieSI6OTIwfSx7IngiOjExNTguMzkwNjI1LCJ5Ijo5NDV9LHsieCI6MTE1OC4zOTA2MjUsInkiOjk3MH0seyJ4IjoxMTM4LjY4NDU4NzQ1Njk0MTcsInkiOjEwMDQuMzY0NDI1NjU5MTc5N31d" marker-end="url(#mermaid-diagram-7506884357259863448_flowchart-v2-pointEnd)"></path><path d="M1008.305,476L1010.837,444.667C1013.37,413.333,1018.435,350.667,1020.967,308.667C1023.5,266.667,1023.5,245.333,1023.5,224C1023.5,202.667,1023.5,181.333,1023.5,164.5C1023.5,147.667,1023.5,135.333,965.597,119.611C907.694,103.888,791.889,84.777,733.986,75.221L676.083,65.665" id="L_Cache_Client_0" class="edge-thickness-normal edge-pattern-dotted edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Cache_Client_0" data-points="W3sieCI6MTAwOC4zMDQ1ODQyNTExMDEzLCJ5Ijo0NzZ9LHsieCI6MTAyMy41LCJ5IjoyODh9LHsieCI6MTAyMy41LCJ5IjoyMjR9LHsieCI6MTAyMy41LCJ5IjoxNjB9LHsieCI6MTAyMy41LCJ5IjoxMjN9LHsieCI6NjcyLjEzNjcxODc1LCJ5Ijo2NS4wMTQxNjUzODcyNTc5M31d" marker-end="url(#mermaid-diagram-7506884357259863448_flowchart-v2-pointEnd)"></path><path d="M440.32,554L440.32,585.333C440.32,616.667,440.32,679.333,440.32,714.167C440.32,749,440.32,756,440.32,759.5L440.32,763" id="L_Catalog_Sources_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Catalog_Sources_0" data-points="W3sieCI6NDQwLjMyMDMxMjUsInkiOjU1NH0seyJ4Ijo0NDAuMzIwMzEyNSwieSI6NzQyfSx7IngiOjQ0MC4zMjAzMTI1LCJ5Ijo3Njd9LHsieCI6NDQwLjMyMDMxMjUsInkiOjc5Mn1d" marker-end="url(#mermaid-diagram-7506884357259863448_flowchart-v2-pointEnd)"></path><path d="M363.789,242.337L332.025,249.947C300.26,257.558,236.732,272.779,204.967,283.889C173.203,295,173.203,302,173.203,305.5L173.203,309" id="L_Server_Resources_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Server_Resources_0" data-points="W3sieCI6MzYzLjc4OTA2MjUsInkiOjI0Mi4zMzY1MjEzMDY3NzY2M30seyJ4IjoxNzMuMjAzMTI1LCJ5IjoyODh9LHsieCI6MTczLjIwMzEyNSwieSI6MzEzfV0=" marker-end="url(#mermaid-diagram-7506884357259863448_flowchart-v2-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel" transform="translate(440.3203125, 123)"><g class="label" data-id="L_Client_Server_0" transform="translate(-56.765625, -12)"><foreignobject width="113.53125" height="24">
<div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel">
<p>HTTP Requests</p>
</span></div>
</foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_Server_Catalog_0" transform="translate(0, 0)"><foreignobject width="0" height="0">
<div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div>
</foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_Server_Cache_0" transform="translate(0, 0)"><foreignobject width="0" height="0">
<div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div>
</foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_PG_DB_0" transform="translate(0, 0)"><foreignobject width="0" height="0">
<div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div>
</foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_MBT_Files_0" transform="translate(0, 0)"><foreignobject width="0" height="0">
<div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div>
</foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_PMT_Files_0" transform="translate(0, 0)"><foreignobject width="0" height="0">
<div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div>
</foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_PMT_S3_0" transform="translate(0, 0)"><foreignobject width="0" height="0">
<div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div>
</foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_COG_Files_0" transform="translate(0, 0)"><foreignobject width="0" height="0">
<div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div>
</foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_COG_S3_0" transform="translate(0, 0)"><foreignobject width="0" height="0">
<div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div>
</foreignobject></g></g><g class="edgeLabel" transform="translate(1023.5, 224)"><g class="label" data-id="L_Cache_Client_0" transform="translate(-86.7109375, -12)"><foreignobject width="173.421875" height="24">
<div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel">
<p>Cached Tiles/Resources</p>
</span></div>
</foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_Catalog_Sources_0" transform="translate(0, 0)"><foreignobject width="0" height="0">
<div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div>
</foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_Server_Resources_0" transform="translate(0, 0)"><foreignobject width="0" height="0">
<div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div>
</foreignobject></g></g></g><g class="nodes"><g class="root" transform="translate(35, 305)"><g class="clusters"><g class="cluster" id="Resources" data-look="classic"><rect style="" x="8" y="8" width="260.40625" height="404"></rect><g class="cluster-label" transform="translate(59.046875, 8)"><foreignobject width="158.3125" height="24">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>Supporting Resources</p>
</span></div>
</foreignobject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g class="node default" id="flowchart-Sprites-7" transform="translate(138.203125, 82)"><rect class="basic label-container" style="" x="-92.703125" y="-39" width="185.40625" height="78"></rect><g class="label" style="" transform="translate(-62.703125, -24)"><rect></rect><foreignobject width="125.40625" height="48">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>Sprite Generation<br>SVG to PNG</p>
</span></div>
</foreignobject></g></g><g class="node default" id="flowchart-Fonts-8" transform="translate(138.203125, 210)"><rect class="basic label-container" style="" x="-73.1328125" y="-39" width="146.265625" height="78"></rect><g class="label" style="" transform="translate(-43.1328125, -24)"><rect></rect><foreignobject width="86.265625" height="48">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>Font Glyphs<br>PBF Format</p>
</span></div>
</foreignobject></g></g><g class="node default" id="flowchart-Styles-9" transform="translate(138.203125, 338)"><rect class="basic label-container" style="" x="-87.359375" y="-39" width="174.71875" height="78"></rect><g class="label" style="" transform="translate(-57.359375, -24)"><rect></rect><foreignobject width="114.71875" height="48">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>MapLibre Styles<br>JSON</p>
</span></div>
</foreignobject></g></g></g></g><g class="node default" id="flowchart-Client-0" transform="translate(562.98046875, 47)"><rect class="basic label-container" style="" x="-109.15625" y="-39" width="218.3125" height="78"></rect><g class="label" style="" transform="translate(-79.15625, -24)"><rect></rect><foreignobject width="158.3125" height="48">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>Map Client<br>MapLibre, Leaflet, etc.</p>
</span></div>
</foreignobject></g></g><g class="node default" id="flowchart-CLI-1" transform="translate(1349.265625, 831)"><rect class="basic label-container" style="" x="-83.8046875" y="-39" width="167.609375" height="78"></rect><g class="label" style="" transform="translate(-53.8046875, -24)"><rect></rect><foreignobject width="107.609375" height="48">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>CLI Entry Point<br>martin binary</p>
</span></div>
</foreignobject></g></g><g class="node default" id="flowchart-Server-2" transform="translate(440.3203125, 224)"><rect class="basic label-container" style="" x="-76.53125" y="-39" width="153.0625" height="78"></rect><g class="label" style="" transform="translate(-46.53125, -24)"><rect></rect><foreignobject width="93.0625" height="48">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>HTTP Server<br>Actix-Web</p>
</span></div>
</foreignobject></g></g><g class="node default" id="flowchart-PG-3" transform="translate(440.3203125, 831)"><rect class="basic label-container" style="" x="-97.59375" y="-39" width="195.1875" height="78"></rect><g class="label" style="" transform="translate(-67.59375, -24)"><rect></rect><foreignobject width="135.1875" height="48">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>PostgreSQL<br>Tables &amp; Functions</p>
</span></div>
</foreignobject></g></g><g class="node default" id="flowchart-MBT-4" transform="translate(665.625, 831)"><rect class="basic label-container" style="" x="-77.7109375" y="-27" width="155.421875" height="54"></rect><g class="label" style="" transform="translate(-47.7109375, -12)"><rect></rect><foreignobject width="95.421875" height="24">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>MBTiles Files</p>
</span></div>
</foreignobject></g></g><g class="node default" id="flowchart-PMT-5" transform="translate(880.2578125, 831)"><rect class="basic label-container" style="" x="-86.921875" y="-39" width="173.84375" height="78"></rect><g class="label" style="" transform="translate(-56.921875, -24)"><rect></rect><foreignobject width="113.84375" height="48">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>PMTiles Files<br>Local &amp; Remote</p>
</span></div>
</foreignobject></g></g><g class="node default" id="flowchart-COG-6" transform="translate(1106.3203125, 831)"><rect class="basic label-container" style="" x="-89.140625" y="-39" width="178.28125" height="78"></rect><g class="label" style="" transform="translate(-59.140625, -24)"><rect></rect><foreignobject width="118.28125" height="48">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>Cloud Optimized<br>GeoTIFF</p>
</span></div>
</foreignobject></g></g><g class="node default" id="flowchart-Catalog-10" transform="translate(440.3203125, 515)"><rect class="basic label-container" style="" x="-86.9140625" y="-39" width="173.828125" height="78"></rect><g class="label" style="" transform="translate(-56.9140625, -24)"><rect></rect><foreignobject width="113.828125" height="48">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>Tile Catalog<br>Source Registry</p>
</span></div>
</foreignobject></g></g><g class="node default" id="flowchart-Cache-11" transform="translate(1005.15234375, 515)"><rect class="basic label-container" style="" x="-108.40625" y="-39" width="216.8125" height="78"></rect><g class="label" style="" transform="translate(-78.40625, -24)"><rect></rect><foreignobject width="156.8125" height="48">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>Tile/Resources Cache<br>Moka</p>
</span></div>
</foreignobject></g></g><g class="node default" id="flowchart-DB-12" transform="translate(440.3203125, 1043.3644256591797)"><path d="M0,11.242949511624708 a51.078125,11.242949511624708 0,0,0 102.15625,0 a51.078125,11.242949511624708 0,0,0 -102.15625,0 l0,74.24294951162472 a51.078125,11.242949511624708 0,0,0 102.15625,0 l0,-74.24294951162472" class="basic label-container" style="" transform="translate(-51.078125, -48.364424267437066)"></path><g class="label" style="" transform="translate(-43.578125, -14)"><rect></rect><foreignobject width="87.15625" height="48">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>PostgreSQL<br>PostGIS</p>
</span></div>
</foreignobject></g></g><g class="node default" id="flowchart-Files-13" transform="translate(695.625, 1043.3644256591797)"><rect class="basic label-container" style="" x="-89.4140625" y="-39" width="178.828125" height="78"></rect><g class="label" style="" transform="translate(-59.4140625, -24)"><rect></rect><foreignobject width="118.828125" height="48">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>File System<br>MBTiles/PMTiles</p>
</span></div>
</foreignobject></g></g><g class="node default" id="flowchart-S3-14" transform="translate(1116.3203125, 1043.3644256591797)"><rect class="basic label-container" style="" x="-83.3671875" y="-39" width="166.734375" height="78"></rect><g class="label" style="" transform="translate(-53.3671875, -24)"><rect></rect><foreignobject width="106.734375" height="48">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>Object Storage<br>S3/Azure/GCP</p>
</span></div>
</foreignobject></g></g></g></g></g></svg></p>
<h2 id="core-components"><a class="header" href="#core-components">Core Components</a></h2>
<p>Martin’s architecture is organized into four main Rust crates, each with distinct responsibilities:</p>
<div class="mdbook-tabs-container">
<nav class="mdbook-tabs">
<button class="mdbook-tab active" data-tabname="martin (Main Server)">martin (Main Server)</button>
<button class="mdbook-tab" data-tabname="martin-core (Library)">martin-core (Library)</button>
<button class="mdbook-tab" data-tabname="mbtiles (Library &amp; CLI)">mbtiles (Library &amp; CLI)</button>
<button class="mdbook-tab" data-tabname="martin-tile-utils">martin-tile-utils</button>
</nav>
<div class="mdbook-tab-content" data-tabname="martin (Main Server)">
<p><strong>Purpose</strong>: The main tile server binary and HTTP service layer.</p>
<p><strong>Location</strong>: <code>/martin</code></p>
<p><strong>Key Responsibilities</strong>:</p>
<ul>
<li>HTTP server using Actix-Web framework</li>
<li>Request routing and endpoint handling</li>
<li>Configuration parsing (CLI args, env vars, config files)</li>
<li>Tile source discovery and initialization</li>
<li>Serving the Web UI for tile inspection</li>
</ul>
<p><strong>Main Modules</strong>:</p>
<ul>
<li><code>src/bin/martin.rs</code> - Server entry point</li>
<li><code>src/bin/martin-cp.rs</code> - Bulk tile copying tool</li>
<li><code>src/srv/</code> - HTTP service handlers
<ul>
<li><code>server.rs</code> - Main server setup and routing</li>
<li><code>tiles/</code> - Tile serving endpoints</li>
<li><code>fonts.rs</code> - Font glyph serving</li>
<li><code>sprites.rs</code> - Sprite serving</li>
<li><code>styles.rs</code> - Style serving</li>
</ul>
</li>
<li><code>src/config/</code> - Configuration management
<ul>
<li><code>args/</code> - CLI argument parsing</li>
<li><code>file/</code> - Config file parsing</li>
</ul>
</li>
<li><code>martin-ui/</code> - React-based web interface</li>
</ul>
</div>

<div class="mdbook-tab-content hidden" data-tabname="martin-core (Library)">
<p><strong>Purpose</strong>: Core abstractions and implementations for tile sources and supporting resources.</p>
<p><strong>Location</strong>: <code>/martin-core</code></p>
<p><strong>Key Responsibilities</strong>:</p>
<ul>
<li>Abstract tile source traits and implementations</li>
<li>PostgreSQL connection pooling and query execution</li>
<li>MBTiles and PMTiles reading</li>
<li>Cloud Optimized GeoTIFF (COG) tile extraction</li>
<li>Sprite, font, and style resource generation</li>
<li>Tile format handling (MVT protocol buffers)</li>
</ul>
<p><strong>Main Modules</strong>:</p>
<ul>
<li><code>src/tiles/</code> - Tile source implementations
<ul>
<li><code>postgres/</code> - PostGIS table and function sources</li>
<li><code>mbtiles/</code> - MBTiles file source</li>
<li><code>pmtiles/</code> - PMTiles file source</li>
<li><code>cog/</code> - Cloud Optimized GeoTIFF source</li>
<li><code>catalog.rs</code> - Source registry and management</li>
</ul>
</li>
<li><code>src/resources/</code> - Supporting resources
<ul>
<li><code>sprites/</code> - SVG sprite generation</li>
<li><code>fonts/</code> - Font glyph generation</li>
<li><code>styles/</code> - MapLibre style handling</li>
</ul>
</li>
</ul>
</div>

<div class="mdbook-tab-content hidden" data-tabname="mbtiles (Library &amp; CLI)">
<p><strong>Purpose</strong>: MBTiles format support and manipulation tools.</p>
<p><strong>Location</strong>: <code>/mbtiles</code></p>
<p><strong>Key Responsibilities</strong>:</p>
<ul>
<li>SQLite-based MBTiles reading and writing</li>
<li>Metadata management</li>
<li>Tile compression (gzip, brotli)</li>
<li>Validation and integrity checking</li>
<li>Diff/patch operations between MBTiles files</li>
<li>Schema management</li>
</ul>
<p><strong>Main Modules</strong>:</p>
<ul>
<li><code>src/lib.rs</code> - Core MBTiles library</li>
<li><code>src/bin/mbtiles.rs</code> - CLI tool</li>
<li><code>sql/</code> - SQL schema and migrations</li>
</ul>
</div>

<div class="mdbook-tab-content hidden" data-tabname="martin-tile-utils">
<p><strong>Purpose</strong>: Low-level tile manipulation and conversion utilities.</p>
<p><strong>Location</strong>: <code>/martin-tile-utils</code></p>
<p><strong>Key Responsibilities</strong>:</p>
<ul>
<li>Tile coordinate system conversions</li>
<li>Tile encoding/decoding</li>
<li>Tile format utilities</li>
<li>Bounding box calculations</li>
</ul>
</div>

</div>

<h2 id="data-flow"><a class="header" href="#data-flow">Data Flow</a></h2>
<div class="mdbook-tabs-container">
<nav class="mdbook-tabs">
<button class="mdbook-tab active" data-tabname="Tile Request Flow">Tile Request Flow</button>
<button class="mdbook-tab" data-tabname="Configuration and Initialization Flow">Configuration and Initialization Flow</button>
<button class="mdbook-tab" data-tabname="Resource Generation Flow">Resource Generation Flow</button>
</nav>
<div class="mdbook-tab-content" data-tabname="Tile Request Flow">
<p><svg id="mermaid-diagram-14409696993191337115" width="100%" xmlns="http://www.w3.org/2000/svg" style="max-width: 1260px;" viewbox="-50 -10 1260 885" role="graphics-document document" aria-roledescription="sequence"><g><rect x="1010" y="799" fill="#eaeaea" stroke="#666" width="150" height="65" name="DB" rx="3" ry="3" class="actor actor-bottom"></rect><text x="1085" y="831.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="1085" dy="0">Data Store</tspan></text></g><g><rect x="810" y="799" fill="#eaeaea" stroke="#666" width="150" height="65" name="Source" rx="3" ry="3" class="actor actor-bottom"></rect><text x="885" y="831.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="885" dy="0">Tile Source</tspan></text></g><g><rect x="610" y="799" fill="#eaeaea" stroke="#666" width="150" height="65" name="Cache" rx="3" ry="3" class="actor actor-bottom"></rect><text x="685" y="831.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="685" dy="0">Cache</tspan></text></g><g><rect x="410" y="799" fill="#eaeaea" stroke="#666" width="150" height="65" name="Catalog" rx="3" ry="3" class="actor actor-bottom"></rect><text x="485" y="831.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="485" dy="0">Catalog</tspan></text></g><g><rect x="208" y="799" fill="#eaeaea" stroke="#666" width="150" height="65" name="Server" rx="3" ry="3" class="actor actor-bottom"></rect><text x="283" y="831.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="283" dy="0">HTTP Server</tspan></text></g><g><rect x="0" y="799" fill="#eaeaea" stroke="#666" width="150" height="65" name="Client" rx="3" ry="3" class="actor actor-bottom"></rect><text x="75" y="831.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="75" dy="0">Client</tspan></text></g><g><line id="actor5" x1="1085" y1="65" x2="1085" y2="799" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="DB"></line><g id="root-5"><rect x="1010" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" name="DB" rx="3" ry="3" class="actor actor-top"></rect><text x="1085" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="1085" dy="0">Data Store</tspan></text></g></g><g><line id="actor4" x1="885" y1="65" x2="885" y2="799" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="Source"></line><g id="root-4"><rect x="810" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" name="Source" rx="3" ry="3" class="actor actor-top"></rect><text x="885" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="885" dy="0">Tile Source</tspan></text></g></g><g><line id="actor3" x1="685" y1="65" x2="685" y2="799" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="Cache"></line><g id="root-3"><rect x="610" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" name="Cache" rx="3" ry="3" class="actor actor-top"></rect><text x="685" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="685" dy="0">Cache</tspan></text></g></g><g><line id="actor2" x1="485" y1="65" x2="485" y2="799" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="Catalog"></line><g id="root-2"><rect x="410" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" name="Catalog" rx="3" ry="3" class="actor actor-top"></rect><text x="485" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="485" dy="0">Catalog</tspan></text></g></g><g><line id="actor1" x1="283" y1="65" x2="283" y2="799" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="Server"></line><g id="root-1"><rect x="208" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" name="Server" rx="3" ry="3" class="actor actor-top"></rect><text x="283" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="283" dy="0">HTTP Server</tspan></text></g></g><g><line id="actor0" x1="75" y1="65" x2="75" y2="799" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="Client"></line><g id="root-0"><rect x="0" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" name="Client" rx="3" ry="3" class="actor actor-top"></rect><text x="75" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="75" dy="0">Client</tspan></text></g></g><style>#mermaid-diagram-14409696993191337115{font-family:“trebuchet ms”,verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-diagram-14409696993191337115 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-diagram-14409696993191337115 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-diagram-14409696993191337115 .error-icon{fill:#552222;}#mermaid-diagram-14409696993191337115 .error-text{fill:#552222;stroke:#552222;}#mermaid-diagram-14409696993191337115 .edge-thickness-normal{stroke-width:1px;}#mermaid-diagram-14409696993191337115 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-diagram-14409696993191337115 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-diagram-14409696993191337115 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-diagram-14409696993191337115 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-diagram-14409696993191337115 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-diagram-14409696993191337115 .marker{fill:#333333;stroke:#333333;}#mermaid-diagram-14409696993191337115 .marker.cross{stroke:#333333;}#mermaid-diagram-14409696993191337115 svg{font-family:“trebuchet ms”,verdana,arial,sans-serif;font-size:16px;}#mermaid-diagram-14409696993191337115 p{margin:0;}#mermaid-diagram-14409696993191337115 .actor{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-diagram-14409696993191337115 text.actor&gt;tspan{fill:black;stroke:none;}#mermaid-diagram-14409696993191337115 .actor-line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);}#mermaid-diagram-14409696993191337115 .innerArc{stroke-width:1.5;stroke-dasharray:none;}#mermaid-diagram-14409696993191337115 .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333;}#mermaid-diagram-14409696993191337115 .messageLine1{stroke-width:1.5;stroke-dasharray:2,2;stroke:#333;}#mermaid-diagram-14409696993191337115 #arrowhead path{fill:#333;stroke:#333;}#mermaid-diagram-14409696993191337115 .sequenceNumber{fill:white;}#mermaid-diagram-14409696993191337115 #sequencenumber{fill:#333;}#mermaid-diagram-14409696993191337115 #crosshead path{fill:#333;stroke:#333;}#mermaid-diagram-14409696993191337115 .messageText{fill:#333;stroke:none;}#mermaid-diagram-14409696993191337115 .labelBox{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-diagram-14409696993191337115 .labelText,#mermaid-diagram-14409696993191337115 .labelText&gt;tspan{fill:black;stroke:none;}#mermaid-diagram-14409696993191337115 .loopText,#mermaid-diagram-14409696993191337115 .loopText&gt;tspan{fill:black;stroke:none;}#mermaid-diagram-14409696993191337115 .loopLine{stroke-width:2px;stroke-dasharray:2,2;stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);}#mermaid-diagram-14409696993191337115 .note{stroke:#aaaa33;fill:#fff5ad;}#mermaid-diagram-14409696993191337115 .noteText,#mermaid-diagram-14409696993191337115 .noteText&gt;tspan{fill:black;stroke:none;}#mermaid-diagram-14409696993191337115 .activation0{fill:#f4f4f4;stroke:#666;}#mermaid-diagram-14409696993191337115 .activation1{fill:#f4f4f4;stroke:#666;}#mermaid-diagram-14409696993191337115 .activation2{fill:#f4f4f4;stroke:#666;}#mermaid-diagram-14409696993191337115 .actorPopupMenu{position:absolute;}#mermaid-diagram-14409696993191337115 .actorPopupMenuPanel{position:absolute;fill:#ECECFF;box-shadow:0px 8px 16px 0px rgba(0,0,0,0.2);filter:drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));}#mermaid-diagram-14409696993191337115 .actor-man line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-diagram-14409696993191337115 .actor-man circle,#mermaid-diagram-14409696993191337115 line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;stroke-width:2px;}#mermaid-diagram-14409696993191337115 :root{–mermaid-font-family:“trebuchet ms”,verdana,arial,sans-serif;}</style><g></g><defs><symbol id="computer" width="24" height="24"><path transform="scale(.5)" d="M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z"></path></symbol></defs><defs><symbol id="database" fill-rule="evenodd" clip-rule="evenodd"><path transform="scale(.5)" d="M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z"></path></symbol></defs><defs><symbol id="clock" width="24" height="24"><path transform="scale(.5)" d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z"></path></symbol></defs><defs><marker id="arrowhead" refx="7.9" refy="5" markerunits="userSpaceOnUse" markerwidth="12" markerheight="12" orient="auto-start-reverse"><path d="M -1 0 L 10 5 L 0 10 z"></path></marker></defs><defs><marker id="crosshead" markerwidth="15" markerheight="8" orient="auto" refx="4" refy="4.5"><path fill="none" stroke="#000000" stroke-width="1pt" d="M 1,2 L 6,7 M 6,2 L 1,7" style="stroke-dasharray: 0, 0;"></path></marker></defs><defs><marker id="filled-head" refx="15.5" refy="7" markerwidth="20" markerheight="28" orient="auto"><path d="M 18,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><defs><marker id="sequencenumber" refx="15" refy="15" markerwidth="60" markerheight="40" orient="auto"><circle cx="15" cy="15" r="6"></circle></marker></defs><g><line x1="64" y1="255" x2="1096" y2="255" class="loopLine"></line><line x1="1096" y1="255" x2="1096" y2="779" class="loopLine"></line><line x1="64" y1="779" x2="1096" y2="779" class="loopLine"></line><line x1="64" y1="255" x2="64" y2="779" class="loopLine"></line><line x1="64" y1="395" x2="1096" y2="395" class="loopLine" style="stroke-dasharray: 3, 3;"></line><polygon points="64,255 114,255 114,268 105.6,275 64,275" class="labelBox"></polygon><text x="89" y="268" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="labelText" style="font-size: 16px; font-weight: 400;">alt</text><text x="605" y="273" text-anchor="middle" class="loopText" style="font-size: 16px; font-weight: 400;"><tspan x="605">[Tile in cache]</tspan></text><text x="580" y="413" text-anchor="middle" class="loopText" style="font-size: 16px; font-weight: 400;">[Tile not in cache]</text></g><text x="178" y="80" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">GET /source_id/z/x/y</text><line x1="76" y1="111" x2="279" y2="111" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="383" y="126" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Resolve source_id</text><line x1="284" y1="157" x2="481" y2="157" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="386" y="172" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Source reference</text><line x1="484" y1="201" x2="287" y2="201" class="messageLine1" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="stroke-dasharray: 3, 3; fill: none;"></line><text x="483" y="216" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Check cache</text><line x1="284" y1="245" x2="681" y2="245" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="486" y="305" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Cached tile</text><line x1="684" y1="334" x2="287" y2="334" class="messageLine1" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="stroke-dasharray: 3, 3; fill: none;"></line><text x="181" y="349" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">200 OK (tile data)</text><line x1="282" y1="380" x2="79" y2="380" class="messageLine1" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="stroke-dasharray: 3, 3; fill: none;"></line><text x="583" y="440" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Get tile(z, x, y)</text><line x1="284" y1="471" x2="881" y2="471" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="984" y="486" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Query data</text><line x1="886" y1="517" x2="1081" y2="517" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="987" y="532" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Raw data</text><line x1="1084" y1="561" x2="889" y2="561" class="messageLine1" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="stroke-dasharray: 3, 3; fill: none;"></line><text x="886" y="576" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Generate MVT</text><path d="M 886,605 C 946,595 946,635 886,625" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></path><text x="586" y="650" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Tile data</text><line x1="884" y1="679" x2="287" y2="679" class="messageLine1" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="stroke-dasharray: 3, 3; fill: none;"></line><text x="483" y="694" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Store tile</text><line x1="284" y1="723" x2="681" y2="723" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="181" y="738" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">200 OK (tile data)</text><line x1="282" y1="769" x2="79" y2="769" class="messageLine1" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="stroke-dasharray: 3, 3; fill: none;"></line></svg></p>
</div>

<div class="mdbook-tab-content hidden" data-tabname="Configuration and Initialization Flow">
<p><svg id="mermaid-diagram-5874719423896527527" width="100%" xmlns="http://www.w3.org/2000/svg" style="max-width: 1106px;" viewbox="-50 -10 1106 1003" role="graphics-document document" aria-roledescription="sequence"><g><rect x="855" y="917" fill="#eaeaea" stroke="#666" width="150" height="65" name="Server" rx="3" ry="3" class="actor actor-bottom"></rect><text x="930" y="949.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="930" dy="0">HTTP Server</tspan></text></g><g><rect x="655" y="917" fill="#eaeaea" stroke="#666" width="150" height="65" name="Sources" rx="3" ry="3" class="actor actor-bottom"></rect><text x="730" y="949.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="730" dy="0">Tile Sources</tspan></text></g><g><rect x="422" y="917" fill="#eaeaea" stroke="#666" width="150" height="65" name="Discovery" rx="3" ry="3" class="actor actor-bottom"></rect><text x="497" y="949.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="497" dy="0">Source Discovery</tspan></text></g><g><rect x="222" y="917" fill="#eaeaea" stroke="#666" width="150" height="65" name="Config" rx="3" ry="3" class="actor actor-bottom"></rect><text x="297" y="949.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="297" dy="0">Config Parser</tspan></text></g><g><rect x="0" y="917" fill="#eaeaea" stroke="#666" width="150" height="65" name="CLI" rx="3" ry="3" class="actor actor-bottom"></rect><text x="75" y="949.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="75" dy="0">CLI</tspan></text></g><g><line id="actor10" x1="930" y1="65" x2="930" y2="917" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="Server"></line><g id="root-10"><rect x="855" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" name="Server" rx="3" ry="3" class="actor actor-top"></rect><text x="930" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="930" dy="0">HTTP Server</tspan></text></g></g><g><line id="actor9" x1="730" y1="65" x2="730" y2="917" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="Sources"></line><g id="root-9"><rect x="655" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" name="Sources" rx="3" ry="3" class="actor actor-top"></rect><text x="730" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="730" dy="0">Tile Sources</tspan></text></g></g><g><line id="actor8" x1="497" y1="65" x2="497" y2="917" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="Discovery"></line><g id="root-8"><rect x="422" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" name="Discovery" rx="3" ry="3" class="actor actor-top"></rect><text x="497" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="497" dy="0">Source Discovery</tspan></text></g></g><g><line id="actor7" x1="297" y1="65" x2="297" y2="917" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="Config"></line><g id="root-7"><rect x="222" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" name="Config" rx="3" ry="3" class="actor actor-top"></rect><text x="297" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="297" dy="0">Config Parser</tspan></text></g></g><g><line id="actor6" x1="75" y1="65" x2="75" y2="917" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="CLI"></line><g id="root-6"><rect x="0" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" name="CLI" rx="3" ry="3" class="actor actor-top"></rect><text x="75" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="75" dy="0">CLI</tspan></text></g></g><style>#mermaid-diagram-5874719423896527527{font-family:“trebuchet ms”,verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-diagram-5874719423896527527 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-diagram-5874719423896527527 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-diagram-5874719423896527527 .error-icon{fill:#552222;}#mermaid-diagram-5874719423896527527 .error-text{fill:#552222;stroke:#552222;}#mermaid-diagram-5874719423896527527 .edge-thickness-normal{stroke-width:1px;}#mermaid-diagram-5874719423896527527 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-diagram-5874719423896527527 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-diagram-5874719423896527527 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-diagram-5874719423896527527 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-diagram-5874719423896527527 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-diagram-5874719423896527527 .marker{fill:#333333;stroke:#333333;}#mermaid-diagram-5874719423896527527 .marker.cross{stroke:#333333;}#mermaid-diagram-5874719423896527527 svg{font-family:“trebuchet ms”,verdana,arial,sans-serif;font-size:16px;}#mermaid-diagram-5874719423896527527 p{margin:0;}#mermaid-diagram-5874719423896527527 .actor{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-diagram-5874719423896527527 text.actor&gt;tspan{fill:black;stroke:none;}#mermaid-diagram-5874719423896527527 .actor-line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);}#mermaid-diagram-5874719423896527527 .innerArc{stroke-width:1.5;stroke-dasharray:none;}#mermaid-diagram-5874719423896527527 .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333;}#mermaid-diagram-5874719423896527527 .messageLine1{stroke-width:1.5;stroke-dasharray:2,2;stroke:#333;}#mermaid-diagram-5874719423896527527 #arrowhead path{fill:#333;stroke:#333;}#mermaid-diagram-5874719423896527527 .sequenceNumber{fill:white;}#mermaid-diagram-5874719423896527527 #sequencenumber{fill:#333;}#mermaid-diagram-5874719423896527527 #crosshead path{fill:#333;stroke:#333;}#mermaid-diagram-5874719423896527527 .messageText{fill:#333;stroke:none;}#mermaid-diagram-5874719423896527527 .labelBox{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-diagram-5874719423896527527 .labelText,#mermaid-diagram-5874719423896527527 .labelText&gt;tspan{fill:black;stroke:none;}#mermaid-diagram-5874719423896527527 .loopText,#mermaid-diagram-5874719423896527527 .loopText&gt;tspan{fill:black;stroke:none;}#mermaid-diagram-5874719423896527527 .loopLine{stroke-width:2px;stroke-dasharray:2,2;stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);}#mermaid-diagram-5874719423896527527 .note{stroke:#aaaa33;fill:#fff5ad;}#mermaid-diagram-5874719423896527527 .noteText,#mermaid-diagram-5874719423896527527 .noteText&gt;tspan{fill:black;stroke:none;}#mermaid-diagram-5874719423896527527 .activation0{fill:#f4f4f4;stroke:#666;}#mermaid-diagram-5874719423896527527 .activation1{fill:#f4f4f4;stroke:#666;}#mermaid-diagram-5874719423896527527 .activation2{fill:#f4f4f4;stroke:#666;}#mermaid-diagram-5874719423896527527 .actorPopupMenu{position:absolute;}#mermaid-diagram-5874719423896527527 .actorPopupMenuPanel{position:absolute;fill:#ECECFF;box-shadow:0px 8px 16px 0px rgba(0,0,0,0.2);filter:drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));}#mermaid-diagram-5874719423896527527 .actor-man line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-diagram-5874719423896527527 .actor-man circle,#mermaid-diagram-5874719423896527527 line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;stroke-width:2px;}#mermaid-diagram-5874719423896527527 :root{–mermaid-font-family:“trebuchet ms”,verdana,arial,sans-serif;}</style><g></g><defs><symbol id="computer" width="24" height="24"><path transform="scale(.5)" d="M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z"></path></symbol></defs><defs><symbol id="database" fill-rule="evenodd" clip-rule="evenodd"><path transform="scale(.5)" d="M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z"></path></symbol></defs><defs><symbol id="clock" width="24" height="24"><path transform="scale(.5)" d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z"></path></symbol></defs><defs><marker id="arrowhead" refx="7.9" refy="5" markerunits="userSpaceOnUse" markerwidth="12" markerheight="12" orient="auto-start-reverse"><path d="M -1 0 L 10 5 L 0 10 z"></path></marker></defs><defs><marker id="crosshead" markerwidth="15" markerheight="8" orient="auto" refx="4" refy="4.5"><path fill="none" stroke="#000000" stroke-width="1pt" d="M 1,2 L 6,7 M 6,2 L 1,7" style="stroke-dasharray: 0, 0;"></path></marker></defs><defs><marker id="filled-head" refx="15.5" refy="7" markerwidth="20" markerheight="28" orient="auto"><path d="M 18,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><defs><marker id="sequencenumber" refx="15" refy="15" markerwidth="60" markerheight="40" orient="auto"><circle cx="15" cy="15" r="6"></circle></marker></defs><g><line x1="407.5" y1="165" x2="741" y2="165" class="loopLine"></line><line x1="741" y1="165" x2="741" y2="452" class="loopLine"></line><line x1="407.5" y1="452" x2="741" y2="452" class="loopLine"></line><line x1="407.5" y1="165" x2="407.5" y2="452" class="loopLine"></line><polygon points="407.5,165 457.5,165 457.5,178 449.1,185 407.5,185" class="labelBox"></polygon><text x="433" y="178" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="labelText" style="font-size: 16px; font-weight: 400;">alt</text><text x="599.25" y="183" text-anchor="middle" class="loopText" style="font-size: 16px; font-weight: 400;"><tspan x="599.25">[PostgreSQL Source]</tspan></text></g><g><line x1="413" y1="462" x2="741" y2="462" class="loopLine"></line><line x1="741" y1="462" x2="741" y2="701" class="loopLine"></line><line x1="413" y1="701" x2="741" y2="701" class="loopLine"></line><line x1="413" y1="462" x2="413" y2="701" class="loopLine"></line><polygon points="413,462 463,462 463,475 454.6,482 413,482" class="labelBox"></polygon><text x="438" y="475" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="labelText" style="font-size: 16px; font-weight: 400;">alt</text><text x="602" y="480" text-anchor="middle" class="loopText" style="font-size: 16px; font-weight: 400;"><tspan x="602">[File Sources]</tspan></text></g><text x="185" y="80" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Parse args &amp; config file</text><line x1="76" y1="111" x2="293" y2="111" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="396" y="126" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Initialize sources</text><line x1="298" y1="155" x2="493" y2="155" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="498" y="215" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Connect to database</text><path d="M 498,244 C 558,234 558,274 498,264" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></path><text x="498" y="289" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Query tables &amp; functions</text><path d="M 498,320 C 558,310 558,350 498,340" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></path><text x="612" y="365" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Register table sources</text><line x1="498" y1="396" x2="726" y2="396" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="612" y="411" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Register function sources</text><line x1="498" y1="442" x2="726" y2="442" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="498" y="512" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Scan MBTiles files</text><path d="M 498,541 C 558,531 558,571 498,561" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></path><text x="498" y="586" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Scan PMTiles files</text><path d="M 498,615 C 558,605 558,645 498,635" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></path><text x="612" y="660" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Register file sources</text><line x1="498" y1="691" x2="726" y2="691" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="829" y="716" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Source catalog</text><line x1="731" y1="747" x2="926" y2="747" class="messageLine1" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="stroke-dasharray: 3, 3; fill: none;"></line><text x="931" y="762" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Setup routes</text><path d="M 931,793 C 991,783 991,823 931,813" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></path><text x="931" y="838" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Start HTTP listener</text><path d="M 931,867 C 991,857 991,897 931,887" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></path></svg></p>
</div>

<div class="mdbook-tab-content hidden" data-tabname="Resource Generation Flow">
<p><svg id="mermaid-diagram-9183358952631187395" width="100%" xmlns="http://www.w3.org/2000/svg" style="max-width: 1088px;" viewbox="-50 -10 1088 1013" role="graphics-document document" aria-roledescription="sequence"><g><rect x="838" y="927" fill="#eaeaea" stroke="#666" width="150" height="65" name="FS" rx="3" ry="3" class="actor actor-bottom"></rect><text x="913" y="959.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="913" dy="0">File System</tspan></text></g><g><rect x="638" y="927" fill="#eaeaea" stroke="#666" width="150" height="65" name="Font" rx="3" ry="3" class="actor actor-bottom"></rect><text x="713" y="959.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="713" dy="0">Font Generator</tspan></text></g><g><rect x="438" y="927" fill="#eaeaea" stroke="#666" width="150" height="65" name="Sprite" rx="3" ry="3" class="actor actor-bottom"></rect><text x="513" y="959.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="513" dy="0">Sprite Generator</tspan></text></g><g><rect x="238" y="927" fill="#eaeaea" stroke="#666" width="150" height="65" name="Server" rx="3" ry="3" class="actor actor-bottom"></rect><text x="313" y="959.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="313" dy="0">Server</tspan></text></g><g><rect x="0" y="927" fill="#eaeaea" stroke="#666" width="150" height="65" name="Client" rx="3" ry="3" class="actor actor-bottom"></rect><text x="75" y="959.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="75" dy="0">Client</tspan></text></g><g><line id="actor15" x1="913" y1="65" x2="913" y2="927" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="FS"></line><g id="root-15"><rect x="838" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" name="FS" rx="3" ry="3" class="actor actor-top"></rect><text x="913" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="913" dy="0">File System</tspan></text></g></g><g><line id="actor14" x1="713" y1="65" x2="713" y2="927" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="Font"></line><g id="root-14"><rect x="638" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" name="Font" rx="3" ry="3" class="actor actor-top"></rect><text x="713" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="713" dy="0">Font Generator</tspan></text></g></g><g><line id="actor13" x1="513" y1="65" x2="513" y2="927" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="Sprite"></line><g id="root-13"><rect x="438" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" name="Sprite" rx="3" ry="3" class="actor actor-top"></rect><text x="513" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="513" dy="0">Sprite Generator</tspan></text></g></g><g><line id="actor12" x1="313" y1="65" x2="313" y2="927" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="Server"></line><g id="root-12"><rect x="238" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" name="Server" rx="3" ry="3" class="actor actor-top"></rect><text x="313" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="313" dy="0">Server</tspan></text></g></g><g><line id="actor11" x1="75" y1="65" x2="75" y2="927" class="actor-line 200" stroke-width="0.5px" stroke="#999" name="Client"></line><g id="root-11"><rect x="0" y="0" fill="#eaeaea" stroke="#666" width="150" height="65" name="Client" rx="3" ry="3" class="actor actor-top"></rect><text x="75" y="32.5" dominant-baseline="central" alignment-baseline="central" class="actor actor-box" style="text-anchor: middle; font-size: 16px; font-weight: 400;"><tspan x="75" dy="0">Client</tspan></text></g></g><style>#mermaid-diagram-9183358952631187395{font-family:“trebuchet ms”,verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-diagram-9183358952631187395 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-diagram-9183358952631187395 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-diagram-9183358952631187395 .error-icon{fill:#552222;}#mermaid-diagram-9183358952631187395 .error-text{fill:#552222;stroke:#552222;}#mermaid-diagram-9183358952631187395 .edge-thickness-normal{stroke-width:1px;}#mermaid-diagram-9183358952631187395 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-diagram-9183358952631187395 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-diagram-9183358952631187395 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-diagram-9183358952631187395 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-diagram-9183358952631187395 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-diagram-9183358952631187395 .marker{fill:#333333;stroke:#333333;}#mermaid-diagram-9183358952631187395 .marker.cross{stroke:#333333;}#mermaid-diagram-9183358952631187395 svg{font-family:“trebuchet ms”,verdana,arial,sans-serif;font-size:16px;}#mermaid-diagram-9183358952631187395 p{margin:0;}#mermaid-diagram-9183358952631187395 .actor{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-diagram-9183358952631187395 text.actor&gt;tspan{fill:black;stroke:none;}#mermaid-diagram-9183358952631187395 .actor-line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);}#mermaid-diagram-9183358952631187395 .innerArc{stroke-width:1.5;stroke-dasharray:none;}#mermaid-diagram-9183358952631187395 .messageLine0{stroke-width:1.5;stroke-dasharray:none;stroke:#333;}#mermaid-diagram-9183358952631187395 .messageLine1{stroke-width:1.5;stroke-dasharray:2,2;stroke:#333;}#mermaid-diagram-9183358952631187395 #arrowhead path{fill:#333;stroke:#333;}#mermaid-diagram-9183358952631187395 .sequenceNumber{fill:white;}#mermaid-diagram-9183358952631187395 #sequencenumber{fill:#333;}#mermaid-diagram-9183358952631187395 #crosshead path{fill:#333;stroke:#333;}#mermaid-diagram-9183358952631187395 .messageText{fill:#333;stroke:none;}#mermaid-diagram-9183358952631187395 .labelBox{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-diagram-9183358952631187395 .labelText,#mermaid-diagram-9183358952631187395 .labelText&gt;tspan{fill:black;stroke:none;}#mermaid-diagram-9183358952631187395 .loopText,#mermaid-diagram-9183358952631187395 .loopText&gt;tspan{fill:black;stroke:none;}#mermaid-diagram-9183358952631187395 .loopLine{stroke-width:2px;stroke-dasharray:2,2;stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);}#mermaid-diagram-9183358952631187395 .note{stroke:#aaaa33;fill:#fff5ad;}#mermaid-diagram-9183358952631187395 .noteText,#mermaid-diagram-9183358952631187395 .noteText&gt;tspan{fill:black;stroke:none;}#mermaid-diagram-9183358952631187395 .activation0{fill:#f4f4f4;stroke:#666;}#mermaid-diagram-9183358952631187395 .activation1{fill:#f4f4f4;stroke:#666;}#mermaid-diagram-9183358952631187395 .activation2{fill:#f4f4f4;stroke:#666;}#mermaid-diagram-9183358952631187395 .actorPopupMenu{position:absolute;}#mermaid-diagram-9183358952631187395 .actorPopupMenuPanel{position:absolute;fill:#ECECFF;box-shadow:0px 8px 16px 0px rgba(0,0,0,0.2);filter:drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));}#mermaid-diagram-9183358952631187395 .actor-man line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;}#mermaid-diagram-9183358952631187395 .actor-man circle,#mermaid-diagram-9183358952631187395 line{stroke:hsl(259.6261682243, 59.7765363128%, 87.9019607843%);fill:#ECECFF;stroke-width:2px;}#mermaid-diagram-9183358952631187395 :root{–mermaid-font-family:“trebuchet ms”,verdana,arial,sans-serif;}</style><g></g><defs><symbol id="computer" width="24" height="24"><path transform="scale(.5)" d="M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z"></path></symbol></defs><defs><symbol id="database" fill-rule="evenodd" clip-rule="evenodd"><path transform="scale(.5)" d="M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z"></path></symbol></defs><defs><symbol id="clock" width="24" height="24"><path transform="scale(.5)" d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z"></path></symbol></defs><defs><marker id="arrowhead" refx="7.9" refy="5" markerunits="userSpaceOnUse" markerwidth="12" markerheight="12" orient="auto-start-reverse"><path d="M -1 0 L 10 5 L 0 10 z"></path></marker></defs><defs><marker id="crosshead" markerwidth="15" markerheight="8" orient="auto" refx="4" refy="4.5"><path fill="none" stroke="#000000" stroke-width="1pt" d="M 1,2 L 6,7 M 6,2 L 1,7" style="stroke-dasharray: 0, 0;"></path></marker></defs><defs><marker id="filled-head" refx="15.5" refy="7" markerwidth="20" markerheight="28" orient="auto"><path d="M 18,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><defs><marker id="sequencenumber" refx="15" refy="15" markerwidth="60" markerheight="40" orient="auto"><circle cx="15" cy="15" r="6"></circle></marker></defs><text x="193" y="80" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">GET /sprite/sprite_id</text><line x1="76" y1="111" x2="309" y2="111" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="412" y="126" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Generate sprite</text><line x1="314" y1="157" x2="509" y2="157" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="712" y="172" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Read SVG files</text><line x1="514" y1="201" x2="909" y2="201" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="715" y="216" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">SVG data</text><line x1="912" y1="245" x2="517" y2="245" class="messageLine1" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="stroke-dasharray: 3, 3; fill: none;"></line><text x="514" y="260" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Render to PNG</text><path d="M 514,289 C 574,279 574,319 514,309" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></path><text x="514" y="334" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Generate JSON index</text><path d="M 514,363 C 574,353 574,393 514,383" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></path><text x="415" y="408" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Sprite sheet</text><line x1="512" y1="439" x2="317" y2="439" class="messageLine1" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="stroke-dasharray: 3, 3; fill: none;"></line><text x="196" y="454" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">PNG/JSON response</text><line x1="312" y1="485" x2="79" y2="485" class="messageLine1" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="stroke-dasharray: 3, 3; fill: none;"></line><text x="193" y="500" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">GET /font/fontstack/range</text><line x1="76" y1="531" x2="309" y2="531" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="512" y="546" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Generate glyphs</text><line x1="314" y1="577" x2="709" y2="577" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="812" y="592" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Read font files</text><line x1="714" y1="621" x2="909" y2="621" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></line><text x="815" y="636" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Font data</text><line x1="912" y1="665" x2="717" y2="665" class="messageLine1" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="stroke-dasharray: 3, 3; fill: none;"></line><text x="714" y="680" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Rasterize glyphs</text><path d="M 714,711 C 774,701 774,741 714,731" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></path><text x="714" y="756" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Encode as PBF</text><path d="M 714,785 C 774,775 774,815 714,805" class="messageLine0" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="fill: none;"></path><text x="515" y="830" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">Glyph data</text><line x1="712" y1="861" x2="317" y2="861" class="messageLine1" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="stroke-dasharray: 3, 3; fill: none;"></line><text x="196" y="876" text-anchor="middle" dominant-baseline="middle" alignment-baseline="middle" class="messageText" dy="1em" style="font-size: 16px; font-weight: 400;">PBF response</text><line x1="312" y1="907" x2="79" y2="907" class="messageLine1" stroke-width="2" stroke="none" marker-end="url(#arrowhead)" style="stroke-dasharray: 3, 3; fill: none;"></line></svg></p>
</div>

</div>

<h2 id="key-design-decisions"><a class="header" href="#key-design-decisions">Key Design Decisions</a></h2>
<blockquote class="blockquote-tag blockquote-tag-note">
<p class="blockquote-tag-title"><svg viewbox="0 0 16 16" width="18" height="18"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>Note</p>
<p>🧠 This section provides <strong>background and context</strong>, not required knowledge.
You don’t need to understand or remember all of this to use or contribute to Martin.
Read it when you’re curious <em>why</em> certain choices were made.</p>
</blockquote>
<h3 id="rust-for-performance-and-safety"><a class="header" href="#rust-for-performance-and-safety">Rust for Performance and Safety</a></h3>
<details>
<summary>
<b>Why Rust</b>: Martin is written in Rust to balance high performance with strong safety guarantees.
<i>(click to expand)</i>
</summary>
<ul>
<li>Near-C performance without manual memory management</li>
<li>Memory safety (no null pointers or buffer overflows)</li>
<li>Safe concurrency without data races</li>
<li>Zero-cost abstractions that compile to efficient code</li>
</ul>
</details>
<h3 id="actix-web-framework"><a class="header" href="#actix-web-framework">Actix-Web Framework</a></h3>
<details>
<summary>
<b>Why Actix-Web</b>: It offers a fast, production-ready async HTTP stack.
<i>(click to expand)</i>
</summary>
<ul>
<li>High-performance async request handling</li>
<li>Mature middleware ecosystem</li>
<li>Built-in compression and caching headers</li>
<li>Easy Prometheus metrics integration</li>
</ul>
</details>
<h3 id="asyncawait-throughout"><a class="header" href="#asyncawait-throughout">Async/Await Throughout</a></h3>
<details>
<summary>
<b>Why async/await</b>: Allows Martin to handle many concurrent requests efficiently.
<i>(click to expand)</i>
</summary>
<ul>
<li>Handles thousands of concurrent connections</li>
<li>Avoids blocking database queries</li>
<li>Enables efficient file and network I/O</li>
<li>Keeps thread usage low under load</li>
</ul>
</details>
<h3 id="crate-separation"><a class="header" href="#crate-separation">Crate Separation</a></h3>
<details>
<summary>
<b>Why multiple crates</b>: The codebase is split into crates with clear responsibilities.
<i>(click to expand)</i>
</summary>
<ul>
<li><strong>martin-core</strong> — reusable core logic and tile sources</li>
<li><strong>mbtiles</strong> — standalone MBTiles tooling</li>
<li><strong>martin</strong> — HTTP server, configuration, and runtime wiring</li>
<li><strong>martin-tile-utils</strong> — shared low-level tile utilities</li>
</ul>
<p>This makes it easier to:</p>
<ul>
<li>Embed Martin as a library in other Rust projects</li>
<li>Use MBTiles tools independently</li>
<li>Maintain clear API boundaries and versioning</li>
</ul>
</details>
<h3 id="postgresql-connection-pooling"><a class="header" href="#postgresql-connection-pooling">PostgreSQL Connection Pooling</a></h3>
<details>
<summary>
<b>Why connection pooling</b>: Reuse database connections instead of reconnecting per request.
<i>(click to expand)</i>
</summary>
<ul>
<li>Uses <code>deadpool-postgres</code></li>
<li>Avoids per-request connection overhead</li>
<li>Configurable pool sizing</li>
<li>Automatic connection health checks</li>
</ul>
</details>
<h3 id="in-memory-tile-caching"><a class="header" href="#in-memory-tile-caching">In-Memory Tile Caching</a></h3>
<details>
<summary>
<b>Why caching</b>: Avoid regenerating frequently requested tiles.
<i>(click to expand)</i>
</summary>
<ul>
<li>Fast LRU cache with optional TTLs</li>
<li>Automatic eviction of least-used entries</li>
<li>Configurable memory limits (default: 512 MB)</li>
<li>Thread-safe concurrent access</li>
<li>Significant performance improvements for repeated requests</li>
</ul>
</details>
<h3 id="automatic-source-discovery"><a class="header" href="#automatic-source-discovery">Automatic Source Discovery</a></h3>
<details>
<summary>
<b>Why auto-discovery</b>: Martin tries to work out of the box with minimal configuration.
<i>(click to expand)</i>
</summary>
<p>It can currently automatically detect:</p>
<ul>
<li>PostgreSQL tables with geometry columns</li>
<li>PostgreSQL functions that return MVT</li>
<li>MBTiles and PMTiles files in configured directories</li>
</ul>
<p>This keeps common setups close to zero-config.</p>
</details>
<h3 id="multi-protocol-tile-support"><a class="header" href="#multi-protocol-tile-support">Multi-Protocol Tile Support</a></h3>
<p><strong>Why multiple formats</strong>: Different workloads benefit from different storage models. This lets operators pick the best format for their use case:</p>
<div class="mdbook-tabs-container">
<nav class="mdbook-tabs">
<button class="mdbook-tab active" data-tabname="PostgreSQL">PostgreSQL</button>
<button class="mdbook-tab" data-tabname="MBTiles">MBTiles</button>
<button class="mdbook-tab" data-tabname="PMTiles">PMTiles</button>
<button class="mdbook-tab" data-tabname="COG">COG</button>
</nav>
<div class="mdbook-tab-content" data-tabname="PostgreSQL">
<p>Dynamic tiles generated from live data. Best for frequently changing datasets.</p>
</div>

<div class="mdbook-tab-content hidden" data-tabname="MBTiles">
<p>Pre-generated tile archives. Simple and fast for static datasets.</p>
</div>

<div class="mdbook-tab-content hidden" data-tabname="PMTiles">
<p>Single-file, cloud-native archives optimized for HTTP range requests.</p>
</div>

<div class="mdbook-tab-content hidden" data-tabname="COG">
<p>Direct tile serving from Cloud Optimized GeoTIFFs.</p>
</div>

</div>

<h3 id="on-the-fly-resource-generation"><a class="header" href="#on-the-fly-resource-generation">On-the-Fly Resource Generation</a></h3>
<details>
<summary>
<b>Why generate resources dynamically</b>: Sprites, fonts, and styles are created on demand.
<i>(click to expand)</i>
</summary>
<ul>
<li>No pre-processing step required</li>
<li>Simpler deployments (just provide source files)</li>
<li>URL-based customization</li>
<li>Less storage overhead</li>
</ul>
</details>
<h3 id="modular-configuration"><a class="header" href="#modular-configuration">Modular Configuration</a></h3>
<details>
<summary>
<b>Why layered configuration</b>: Martin supports multiple configuration sources.
<i>(click to expand)</i>
</summary>
<ul>
<li>CLI flags for quick testing and overrides</li>
<li>Environment variables for containerized deployments</li>
<li>Config files for larger or more complex setups</li>
<li>Clear precedence between configuration layers</li>
</ul>
</details>
<h2 id="component-interactions"><a class="header" href="#component-interactions">Component Interactions</a></h2>
<div class="mdbook-tabs-container">
<nav class="mdbook-tabs">
<button class="mdbook-tab active" data-tabname="PostgreSQL Integration">PostgreSQL Integration</button>
<button class="mdbook-tab" data-tabname="File Source Integration">File Source Integration</button>
</nav>
<div class="mdbook-tab-content" data-tabname="PostgreSQL Integration">
<p><svg id="mermaid-diagram-5360636795560580540" width="100%" xmlns="http://www.w3.org/2000/svg" class="flowchart" style="max-width: 507.875px;" viewbox="0 0 507.875 480" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#mermaid-diagram-5360636795560580540{font-family:“trebuchet ms”,verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-diagram-5360636795560580540 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-diagram-5360636795560580540 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-diagram-5360636795560580540 .error-icon{fill:#552222;}#mermaid-diagram-5360636795560580540 .error-text{fill:#552222;stroke:#552222;}#mermaid-diagram-5360636795560580540 .edge-thickness-normal{stroke-width:1px;}#mermaid-diagram-5360636795560580540 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-diagram-5360636795560580540 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-diagram-5360636795560580540 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-diagram-5360636795560580540 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-diagram-5360636795560580540 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-diagram-5360636795560580540 .marker{fill:#333333;stroke:#333333;}#mermaid-diagram-5360636795560580540 .marker.cross{stroke:#333333;}#mermaid-diagram-5360636795560580540 svg{font-family:“trebuchet ms”,verdana,arial,sans-serif;font-size:16px;}#mermaid-diagram-5360636795560580540 p{margin:0;}#mermaid-diagram-5360636795560580540 .label{font-family:“trebuchet ms”,verdana,arial,sans-serif;color:#333;}#mermaid-diagram-5360636795560580540 .cluster-label text{fill:#333;}#mermaid-diagram-5360636795560580540 .cluster-label span{color:#333;}#mermaid-diagram-5360636795560580540 .cluster-label span p{background-color:transparent;}#mermaid-diagram-5360636795560580540 .label text,#mermaid-diagram-5360636795560580540 span{fill:#333;color:#333;}#mermaid-diagram-5360636795560580540 .node rect,#mermaid-diagram-5360636795560580540 .node circle,#mermaid-diagram-5360636795560580540 .node ellipse,#mermaid-diagram-5360636795560580540 .node polygon,#mermaid-diagram-5360636795560580540 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-diagram-5360636795560580540 .rough-node .label text,#mermaid-diagram-5360636795560580540 .node .label text,#mermaid-diagram-5360636795560580540 .image-shape .label,#mermaid-diagram-5360636795560580540 .icon-shape .label{text-anchor:middle;}#mermaid-diagram-5360636795560580540 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-diagram-5360636795560580540 .rough-node .label,#mermaid-diagram-5360636795560580540 .node .label,#mermaid-diagram-5360636795560580540 .image-shape .label,#mermaid-diagram-5360636795560580540 .icon-shape .label{text-align:center;}#mermaid-diagram-5360636795560580540 .node.clickable{cursor:pointer;}#mermaid-diagram-5360636795560580540 .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#mermaid-diagram-5360636795560580540 .arrowheadPath{fill:#333333;}#mermaid-diagram-5360636795560580540 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-diagram-5360636795560580540 .flowchart-link{stroke:#333333;fill:none;}#mermaid-diagram-5360636795560580540 .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-diagram-5360636795560580540 .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#mermaid-diagram-5360636795560580540 .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-diagram-5360636795560580540 .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-diagram-5360636795560580540 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-diagram-5360636795560580540 .cluster text{fill:#333;}#mermaid-diagram-5360636795560580540 .cluster span{color:#333;}#mermaid-diagram-5360636795560580540 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:“trebuchet ms”,verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-diagram-5360636795560580540 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-diagram-5360636795560580540 rect.text{fill:none;stroke-width:0;}#mermaid-diagram-5360636795560580540 .icon-shape,#mermaid-diagram-5360636795560580540 .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-diagram-5360636795560580540 .icon-shape p,#mermaid-diagram-5360636795560580540 .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#mermaid-diagram-5360636795560580540 .icon-shape rect,#mermaid-diagram-5360636795560580540 .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-diagram-5360636795560580540 .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-diagram-5360636795560580540 .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-diagram-5360636795560580540 :root{–mermaid-font-family:“trebuchet ms”,verdana,arial,sans-serif;}</style><g><marker id="mermaid-diagram-5360636795560580540_flowchart-v2-pointEnd" class="marker flowchart-v2" viewbox="0 0 10 10" refx="5" refy="5" markerunits="userSpaceOnUse" markerwidth="8" markerheight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-diagram-5360636795560580540_flowchart-v2-pointStart" class="marker flowchart-v2" viewbox="0 0 10 10" refx="4.5" refy="5" markerunits="userSpaceOnUse" markerwidth="8" markerheight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-diagram-5360636795560580540_flowchart-v2-circleEnd" class="marker flowchart-v2" viewbox="0 0 10 10" refx="11" refy="5" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-diagram-5360636795560580540_flowchart-v2-circleStart" class="marker flowchart-v2" viewbox="0 0 10 10" refx="-1" refy="5" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-diagram-5360636795560580540_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewbox="0 0 11 11" refx="12" refy="5.2" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-diagram-5360636795560580540_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewbox="0 0 11 11" refx="-1" refy="5.2" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"><g class="cluster" id="PostgreSQL" data-look="classic"><rect style="" x="8" y="240" width="491.875" height="232"></rect><g class="cluster-label" transform="translate(210.359375, 240)"><foreignobject width="87.15625" height="24">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>PostgreSQL</p>
</span></div>
</foreignobject></g></g></g><g class="edgePaths"><path d="M258.195,62L258.195,66.167C258.195,70.333,258.195,78.667,258.195,86.333C258.195,94,258.195,101,258.195,104.5L258.195,108" id="L_Martin_Pool_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Martin_Pool_0" data-points="W3sieCI6MjU4LjE5NTMxMjUsInkiOjYyfSx7IngiOjI1OC4xOTUzMTI1LCJ5Ijo4N30seyJ4IjoyNTguMTk1MzEyNSwieSI6MTEyfV0=" marker-end="url(#mermaid-diagram-5360636795560580540_flowchart-v2-pointEnd)"></path><path d="M187.336,190L179.766,194.167C172.196,198.333,157.055,206.667,149.484,215C141.914,223.333,141.914,231.667,141.914,239.333C141.914,247,141.914,254,141.914,257.5L141.914,261" id="L_Pool_Tables_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Pool_Tables_0" data-points="W3sieCI6MTg3LjMzNjQyNTc4MTI1LCJ5IjoxOTB9LHsieCI6MTQxLjkxNDA2MjUsInkiOjIxNX0seyJ4IjoxNDEuOTE0MDYyNSwieSI6MjQwfSx7IngiOjE0MS45MTQwNjI1LCJ5IjoyNjV9XQ==" marker-end="url(#mermaid-diagram-5360636795560580540_flowchart-v2-pointEnd)"></path><path d="M329.054,190L336.625,194.167C344.195,198.333,359.336,206.667,366.906,215C374.477,223.333,374.477,231.667,374.477,241.333C374.477,251,374.477,262,374.477,267.5L374.477,273" id="L_Pool_Functions_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Pool_Functions_0" data-points="W3sieCI6MzI5LjA1NDE5OTIxODc1LCJ5IjoxOTB9LHsieCI6Mzc0LjQ3NjU2MjUsInkiOjIxNX0seyJ4IjozNzQuNDc2NTYyNSwieSI6MjQwfSx7IngiOjM3NC40NzY1NjI1LCJ5IjoyNzd9XQ==" marker-end="url(#mermaid-diagram-5360636795560580540_flowchart-v2-pointEnd)"></path><path d="M141.914,343L141.914,347.167C141.914,351.333,141.914,359.667,150.623,367.728C159.332,375.789,176.749,383.578,185.458,387.473L194.167,391.367" id="L_Tables_PostGIS_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Tables_PostGIS_0" data-points="W3sieCI6MTQxLjkxNDA2MjUsInkiOjM0M30seyJ4IjoxNDEuOTE0MDYyNSwieSI6MzY4fSx7IngiOjE5Ny44MTg1MDk2MTUzODQ2LCJ5IjozOTN9XQ==" marker-end="url(#mermaid-diagram-5360636795560580540_flowchart-v2-pointEnd)"></path><path d="M374.477,331L374.477,337.167C374.477,343.333,374.477,355.667,365.768,365.728C357.059,375.789,339.641,383.578,330.932,387.473L322.224,391.367" id="L_Functions_PostGIS_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Functions_PostGIS_0" data-points="W3sieCI6Mzc0LjQ3NjU2MjUsInkiOjMzMX0seyJ4IjozNzQuNDc2NTYyNSwieSI6MzY4fSx7IngiOjMxOC41NzIxMTUzODQ2MTUzNiwieSI6MzkzfV0=" marker-end="url(#mermaid-diagram-5360636795560580540_flowchart-v2-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_Martin_Pool_0" transform="translate(0, 0)"><foreignobject width="0" height="0">
<div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div>
</foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_Pool_Tables_0" transform="translate(0, 0)"><foreignobject width="0" height="0">
<div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div>
</foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_Pool_Functions_0" transform="translate(0, 0)"><foreignobject width="0" height="0">
<div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div>
</foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_Tables_PostGIS_0" transform="translate(0, 0)"><foreignobject width="0" height="0">
<div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div>
</foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_Functions_PostGIS_0" transform="translate(0, 0)"><foreignobject width="0" height="0">
<div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div>
</foreignobject></g></g></g><g class="nodes"><g class="node default" id="flowchart-Martin-0" transform="translate(258.1953125, 35)"><rect class="basic label-container" style="" x="-78.015625" y="-27" width="156.03125" height="54"></rect><g class="label" style="" transform="translate(-48.015625, -12)"><rect></rect><foreignobject width="96.03125" height="24">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>Martin Server</p>
</span></div>
</foreignobject></g></g><g class="node default" id="flowchart-Pool-1" transform="translate(258.1953125, 151)"><rect class="basic label-container" style="" x="-96.2734375" y="-39" width="192.546875" height="78"></rect><g class="label" style="" transform="translate(-66.2734375, -24)"><rect></rect><foreignobject width="132.546875" height="48">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>Connection Pool<br>deadpool-postgres</p>
</span></div>
</foreignobject></g></g><g class="node default" id="flowchart-Tables-2" transform="translate(141.9140625, 304)"><rect class="basic label-container" style="" x="-98.9140625" y="-39" width="197.828125" height="78"></rect><g class="label" style="" transform="translate(-68.9140625, -24)"><rect></rect><foreignobject width="137.828125" height="48">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>Tables with<br>Geometry Columns</p>
</span></div>
</foreignobject></g></g><g class="node default" id="flowchart-Functions-3" transform="translate(374.4765625, 304)"><rect class="basic label-container" style="" x="-83.6484375" y="-27" width="167.296875" height="54"></rect><g class="label" style="" transform="translate(-53.6484375, -12)"><rect></rect><foreignobject width="107.296875" height="24">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>MVT Functions</p>
</span></div>
</foreignobject></g></g><g class="node default" id="flowchart-PostGIS-4" transform="translate(258.1953125, 420)"><rect class="basic label-container" style="" x="-97.1484375" y="-27" width="194.296875" height="54"></rect><g class="label" style="" transform="translate(-67.1484375, -12)"><rect></rect><foreignobject width="134.296875" height="24">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>PostGIS Extension</p>
</span></div>
</foreignobject></g></g></g></g></g></svg></p>
<p><strong>How it works</strong>:</p>
<ol>
<li>Martin connects to PostgreSQL using connection string</li>
<li>Queries <code>geometry_columns</code> view to discover tables</li>
<li>Queries <code>pg_proc</code> to discover MVT-returning functions</li>
<li>Maintains connection pool for efficient query execution</li>
<li>Generates tile SQL queries with bbox parameters</li>
<li>Returns results as MVT tiles</li>
</ol>
</div>

<div class="mdbook-tab-content hidden" data-tabname="File Source Integration">
<p><svg id="mermaid-diagram-13933127761491169726" width="100%" xmlns="http://www.w3.org/2000/svg" class="flowchart" style="max-width: 1326.75px;" viewbox="0 0 1326.75 248" role="graphics-document document" aria-roledescription="flowchart-v2"><style>#mermaid-diagram-13933127761491169726{font-family:“trebuchet ms”,verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-diagram-13933127761491169726 .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-diagram-13933127761491169726 .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-diagram-13933127761491169726 .error-icon{fill:#552222;}#mermaid-diagram-13933127761491169726 .error-text{fill:#552222;stroke:#552222;}#mermaid-diagram-13933127761491169726 .edge-thickness-normal{stroke-width:1px;}#mermaid-diagram-13933127761491169726 .edge-thickness-thick{stroke-width:3.5px;}#mermaid-diagram-13933127761491169726 .edge-pattern-solid{stroke-dasharray:0;}#mermaid-diagram-13933127761491169726 .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-diagram-13933127761491169726 .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-diagram-13933127761491169726 .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-diagram-13933127761491169726 .marker{fill:#333333;stroke:#333333;}#mermaid-diagram-13933127761491169726 .marker.cross{stroke:#333333;}#mermaid-diagram-13933127761491169726 svg{font-family:“trebuchet ms”,verdana,arial,sans-serif;font-size:16px;}#mermaid-diagram-13933127761491169726 p{margin:0;}#mermaid-diagram-13933127761491169726 .label{font-family:“trebuchet ms”,verdana,arial,sans-serif;color:#333;}#mermaid-diagram-13933127761491169726 .cluster-label text{fill:#333;}#mermaid-diagram-13933127761491169726 .cluster-label span{color:#333;}#mermaid-diagram-13933127761491169726 .cluster-label span p{background-color:transparent;}#mermaid-diagram-13933127761491169726 .label text,#mermaid-diagram-13933127761491169726 span{fill:#333;color:#333;}#mermaid-diagram-13933127761491169726 .node rect,#mermaid-diagram-13933127761491169726 .node circle,#mermaid-diagram-13933127761491169726 .node ellipse,#mermaid-diagram-13933127761491169726 .node polygon,#mermaid-diagram-13933127761491169726 .node path{fill:#ECECFF;stroke:#9370DB;stroke-width:1px;}#mermaid-diagram-13933127761491169726 .rough-node .label text,#mermaid-diagram-13933127761491169726 .node .label text,#mermaid-diagram-13933127761491169726 .image-shape .label,#mermaid-diagram-13933127761491169726 .icon-shape .label{text-anchor:middle;}#mermaid-diagram-13933127761491169726 .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-diagram-13933127761491169726 .rough-node .label,#mermaid-diagram-13933127761491169726 .node .label,#mermaid-diagram-13933127761491169726 .image-shape .label,#mermaid-diagram-13933127761491169726 .icon-shape .label{text-align:center;}#mermaid-diagram-13933127761491169726 .node.clickable{cursor:pointer;}#mermaid-diagram-13933127761491169726 .root .anchor path{fill:#333333!important;stroke-width:0;stroke:#333333;}#mermaid-diagram-13933127761491169726 .arrowheadPath{fill:#333333;}#mermaid-diagram-13933127761491169726 .edgePath .path{stroke:#333333;stroke-width:2.0px;}#mermaid-diagram-13933127761491169726 .flowchart-link{stroke:#333333;fill:none;}#mermaid-diagram-13933127761491169726 .edgeLabel{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-diagram-13933127761491169726 .edgeLabel p{background-color:rgba(232,232,232, 0.8);}#mermaid-diagram-13933127761491169726 .edgeLabel rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-diagram-13933127761491169726 .labelBkg{background-color:rgba(232, 232, 232, 0.5);}#mermaid-diagram-13933127761491169726 .cluster rect{fill:#ffffde;stroke:#aaaa33;stroke-width:1px;}#mermaid-diagram-13933127761491169726 .cluster text{fill:#333;}#mermaid-diagram-13933127761491169726 .cluster span{color:#333;}#mermaid-diagram-13933127761491169726 div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:“trebuchet ms”,verdana,arial,sans-serif;font-size:12px;background:hsl(80, 100%, 96.2745098039%);border:1px solid #aaaa33;border-radius:2px;pointer-events:none;z-index:100;}#mermaid-diagram-13933127761491169726 .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-diagram-13933127761491169726 rect.text{fill:none;stroke-width:0;}#mermaid-diagram-13933127761491169726 .icon-shape,#mermaid-diagram-13933127761491169726 .image-shape{background-color:rgba(232,232,232, 0.8);text-align:center;}#mermaid-diagram-13933127761491169726 .icon-shape p,#mermaid-diagram-13933127761491169726 .image-shape p{background-color:rgba(232,232,232, 0.8);padding:2px;}#mermaid-diagram-13933127761491169726 .icon-shape rect,#mermaid-diagram-13933127761491169726 .image-shape rect{opacity:0.5;background-color:rgba(232,232,232, 0.8);fill:rgba(232,232,232, 0.8);}#mermaid-diagram-13933127761491169726 .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-diagram-13933127761491169726 .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-diagram-13933127761491169726 :root{–mermaid-font-family:“trebuchet ms”,verdana,arial,sans-serif;}</style><g><marker id="mermaid-diagram-13933127761491169726_flowchart-v2-pointEnd" class="marker flowchart-v2" viewbox="0 0 10 10" refx="5" refy="5" markerunits="userSpaceOnUse" markerwidth="8" markerheight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-diagram-13933127761491169726_flowchart-v2-pointStart" class="marker flowchart-v2" viewbox="0 0 10 10" refx="4.5" refy="5" markerunits="userSpaceOnUse" markerwidth="8" markerheight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-diagram-13933127761491169726_flowchart-v2-circleEnd" class="marker flowchart-v2" viewbox="0 0 10 10" refx="11" refy="5" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-diagram-13933127761491169726_flowchart-v2-circleStart" class="marker flowchart-v2" viewbox="0 0 10 10" refx="-1" refy="5" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"></circle></marker><marker id="mermaid-diagram-13933127761491169726_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewbox="0 0 11 11" refx="12" refy="5.2" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><marker id="mermaid-diagram-13933127761491169726_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewbox="0 0 11 11" refx="-1" refy="5.2" markerunits="userSpaceOnUse" markerwidth="11" markerheight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"></path></marker><g class="root"><g class="clusters"><g class="cluster" id="subGraph1" data-look="classic"><rect style="" x="8" y="112" width="664.8125" height="128"></rect><g class="cluster-label" transform="translate(293.28125, 112)"><foreignobject width="94.25" height="24">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>Remote Files</p>
</span></div>
</foreignobject></g></g><g class="cluster" id="subGraph0" data-look="classic"><rect style="" x="692.8125" y="112" width="625.9375" height="128"></rect><g class="cluster-label" transform="translate(967.5390625, 112)"><foreignobject width="76.484375" height="24">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>Local Files</p>
</span></div>
</foreignobject></g></g></g><g class="edgePaths"><path d="M730.862,62L740.12,66.167C749.377,70.333,767.892,78.667,777.149,87C786.406,95.333,786.406,103.667,786.406,111.333C786.406,119,786.406,126,786.406,129.5L786.406,133" id="L_Martin_MBT_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Martin_MBT_0" data-points="W3sieCI6NzMwLjg2MjM3OTgwNzY5MjMsInkiOjYyfSx7IngiOjc4Ni40MDYyNSwieSI6ODd9LHsieCI6Nzg2LjQwNjI1LCJ5IjoxMTJ9LHsieCI6Nzg2LjQwNjI1LCJ5IjoxMzd9XQ==" marker-end="url(#mermaid-diagram-13933127761491169726_flowchart-v2-pointEnd)"></path><path d="M748.891,48.329L786.615,54.774C824.339,61.219,899.786,74.11,937.51,84.722C975.234,95.333,975.234,103.667,975.234,111.333C975.234,119,975.234,126,975.234,129.5L975.234,133" id="L_Martin_PMT_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Martin_PMT_0" data-points="W3sieCI6NzQ4Ljg5MDYyNSwieSI6NDguMzI5MDIwOTk2OTcxMDk2fSx7IngiOjk3NS4yMzQzNzUsInkiOjg3fSx7IngiOjk3NS4yMzQzNzUsInkiOjExMn0seyJ4Ijo5NzUuMjM0Mzc1LCJ5IjoxMzd9XQ==" marker-end="url(#mermaid-diagram-13933127761491169726_flowchart-v2-pointEnd)"></path><path d="M748.891,42.746L823.177,50.122C897.464,57.497,1046.036,72.249,1120.323,83.791C1194.609,95.333,1194.609,103.667,1194.609,111.333C1194.609,119,1194.609,126,1194.609,129.5L1194.609,133" id="L_Martin_COG_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Martin_COG_0" data-points="W3sieCI6NzQ4Ljg5MDYyNSwieSI6NDIuNzQ1OTM1MTQxMjYzMTZ9LHsieCI6MTE5NC42MDkzNzUsInkiOjg3fSx7IngiOjExOTQuNjA5Mzc1LCJ5IjoxMTJ9LHsieCI6MTE5NC42MDkzNzUsInkiOjEzN31d" marker-end="url(#mermaid-diagram-13933127761491169726_flowchart-v2-pointEnd)"></path><path d="M592.859,42.438L514.961,49.865C437.063,57.292,281.266,72.146,203.367,83.74C125.469,95.333,125.469,103.667,125.469,111.333C125.469,119,125.469,126,125.469,129.5L125.469,133" id="L_Martin_S3MBT_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Martin_S3MBT_0" data-points="W3sieCI6NTkyLjg1OTM3NSwieSI6NDIuNDM4MTQ4MTY5MzY5MTY0fSx7IngiOjEyNS40Njg3NSwieSI6ODd9LHsieCI6MTI1LjQ2ODc1LCJ5IjoxMTJ9LHsieCI6MTI1LjQ2ODc1LCJ5IjoxMzd9XQ==" marker-end="url(#mermaid-diagram-13933127761491169726_flowchart-v2-pointEnd)"></path><path d="M592.859,47.276L550.784,53.897C508.708,60.517,424.557,73.759,382.482,84.546C340.406,95.333,340.406,103.667,340.406,111.333C340.406,119,340.406,126,340.406,129.5L340.406,133" id="L_Martin_S3PMT_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Martin_S3PMT_0" data-points="W3sieCI6NTkyLjg1OTM3NSwieSI6NDcuMjc1OTMzODA2MTQ2NTd9LHsieCI6MzQwLjQwNjI1LCJ5Ijo4N30seyJ4IjozNDAuNDA2MjUsInkiOjExMn0seyJ4IjozNDAuNDA2MjUsInkiOjEzN31d" marker-end="url(#mermaid-diagram-13933127761491169726_flowchart-v2-pointEnd)"></path><path d="M610.888,62L601.63,66.167C592.373,70.333,573.858,78.667,564.601,87C555.344,95.333,555.344,103.667,555.344,111.333C555.344,119,555.344,126,555.344,129.5L555.344,133" id="L_Martin_S3COG_0" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" style=";" data-edge="true" data-et="edge" data-id="L_Martin_S3COG_0" data-points="W3sieCI6NjEwLjg4NzYyMDE5MjMwNzcsInkiOjYyfSx7IngiOjU1NS4zNDM3NSwieSI6ODd9LHsieCI6NTU1LjM0Mzc1LCJ5IjoxMTJ9LHsieCI6NTU1LjM0Mzc1LCJ5IjoxMzd9XQ==" marker-end="url(#mermaid-diagram-13933127761491169726_flowchart-v2-pointEnd)"></path></g><g class="edgeLabels"><g class="edgeLabel"><g class="label" data-id="L_Martin_MBT_0" transform="translate(0, 0)"><foreignobject width="0" height="0">
<div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div>
</foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_Martin_PMT_0" transform="translate(0, 0)"><foreignobject width="0" height="0">
<div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div>
</foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_Martin_COG_0" transform="translate(0, 0)"><foreignobject width="0" height="0">
<div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div>
</foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_Martin_S3MBT_0" transform="translate(0, 0)"><foreignobject width="0" height="0">
<div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div>
</foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_Martin_S3PMT_0" transform="translate(0, 0)"><foreignobject width="0" height="0">
<div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div>
</foreignobject></g></g><g class="edgeLabel"><g class="label" data-id="L_Martin_S3COG_0" transform="translate(0, 0)"><foreignobject width="0" height="0">
<div xmlns="http://www.w3.org/1999/xhtml" class="labelBkg" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="edgeLabel"></span></div>
</foreignobject></g></g></g><g class="nodes"><g class="node default" id="flowchart-Martin-0" transform="translate(670.875, 35)"><rect class="basic label-container" style="" x="-78.015625" y="-27" width="156.03125" height="54"></rect><g class="label" style="" transform="translate(-48.015625, -12)"><rect></rect><foreignobject width="96.03125" height="24">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>Martin Server</p>
</span></div>
</foreignobject></g></g><g class="node default" id="flowchart-MBT-1" transform="translate(786.40625, 176)"><rect class="basic label-container" style="" x="-58.59375" y="-39" width="117.1875" height="78"></rect><g class="label" style="" transform="translate(-28.59375, -24)"><rect></rect><foreignobject width="57.1875" height="48">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>MBTiles<br>SQLite</p>
</span></div>
</foreignobject></g></g><g class="node default" id="flowchart-PMT-2" transform="translate(975.234375, 176)"><rect class="basic label-container" style="" x="-80.234375" y="-39" width="160.46875" height="78"></rect><g class="label" style="" transform="translate(-50.234375, -24)"><rect></rect><foreignobject width="100.46875" height="48">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>PMTiles<br>Binary Format</p>
</span></div>
</foreignobject></g></g><g class="node default" id="flowchart-COG-3" transform="translate(1194.609375, 176)"><rect class="basic label-container" style="" x="-89.140625" y="-39" width="178.28125" height="78"></rect><g class="label" style="" transform="translate(-59.140625, -24)"><rect></rect><foreignobject width="118.28125" height="48">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>GeoTIFF<br>Cloud Optimized</p>
</span></div>
</foreignobject></g></g><g class="node default" id="flowchart-S3MBT-4" transform="translate(125.46875, 176)"><rect class="basic label-container" style="" x="-82.46875" y="-39" width="164.9375" height="78"></rect><g class="label" style="" transform="translate(-52.46875, -24)"><rect></rect><foreignobject width="104.9375" height="48">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>S3/Azure/GCP<br>MBTiles</p>
</span></div>
</foreignobject></g></g><g class="node default" id="flowchart-S3PMT-5" transform="translate(340.40625, 176)"><rect class="basic label-container" style="" x="-82.46875" y="-39" width="164.9375" height="78"></rect><g class="label" style="" transform="translate(-52.46875, -24)"><rect></rect><foreignobject width="104.9375" height="48">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>S3/Azure/GCP<br>PMTiles</p>
</span></div>
</foreignobject></g></g><g class="node default" id="flowchart-S3COG-6" transform="translate(555.34375, 176)"><rect class="basic label-container" style="" x="-82.46875" y="-39" width="164.9375" height="78"></rect><g class="label" style="" transform="translate(-52.46875, -24)"><rect></rect><foreignobject width="104.9375" height="48">
<div xmlns="http://www.w3.org/1999/xhtml" style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel">
<p>S3/Azure/GCP<br>GeoTIFF</p>
</span></div>
</foreignobject></g></g></g></g></g></svg></p>
<p><strong>How it works</strong>:</p>
<ol>
<li>Martin scans configured directories for tile files</li>
<li>Opens MBTiles with SQLite (using <code>sqlx</code>)</li>
<li>Opens PMTiles with custom parser (HTTP range requests for remote)</li>
<li>Opens COG with TIFF parser (HTTP range requests for remote)</li>
<li>Uses <code>object_store</code> crate for S3/Azure/GCP access</li>
<li>Serves tiles directly from file format</li>
</ol>
</div>

</div>

<h2 id="deployment-patterns"><a class="header" href="#deployment-patterns">Deployment Patterns</a></h2>
<p>Martin supports multiple deployment patterns:</p>
<div class="mdbook-tabs-container">
<nav class="mdbook-tabs">
<button class="mdbook-tab active" data-tabname="Standalone Server">Standalone Server</button>
<button class="mdbook-tab" data-tabname="Container Deployment">Container Deployment</button>
<button class="mdbook-tab" data-tabname="Serverless (AWS Lambda)">Serverless (AWS Lambda)</button>
<button class="mdbook-tab" data-tabname="Behind Reverse Proxy">Behind Reverse Proxy</button>
</nav>
<div class="mdbook-tab-content" data-tabname="Standalone Server">
<ul>
<li>Single binary with embedded WebUI</li>
<li>Direct PostgreSQL connection</li>
<li>Local file serving</li>
<li>Suitable for small to medium deployments</li>
</ul>
</div>

<div class="mdbook-tab-content hidden" data-tabname="Container Deployment">
<ul>
<li>Docker image with all dependencies</li>
<li>Configuration via environment variables</li>
<li>Health check endpoints</li>
<li>Suitable for Kubernetes and container orchestrators</li>
</ul>
</div>

<div class="mdbook-tab-content hidden" data-tabname="Serverless (AWS Lambda)">
<ul>
<li>Lambda adapter for Actix-Web</li>
<li>Cold start optimization</li>
<li>Stateless operation</li>
<li>Suitable for sporadic traffic</li>
</ul>
</div>

<div class="mdbook-tab-content hidden" data-tabname="Behind Reverse Proxy">
<ul>
<li>NGINX or Apache fronting Martin</li>
<li>Additional caching layer</li>
<li>SSL termination</li>
<li>Load balancing across multiple Martin instances</li>
</ul>
</div>

</div>

<h2 id="performance-characteristics"><a class="header" href="#performance-characteristics">Performance Characteristics</a></h2>
<div class="mdbook-tabs-container">
<nav class="mdbook-tabs">
<button class="mdbook-tab active" data-tabname="PostgreSQL Queries">PostgreSQL Queries</button>
<button class="mdbook-tab" data-tabname="Tile Encoding">Tile Encoding</button>
<button class="mdbook-tab" data-tabname="Network I/O">Network I/O</button>
<button class="mdbook-tab" data-tabname="Memory">Memory</button>
</nav>
<div class="mdbook-tab-content" data-tabname="PostgreSQL Queries">
<ul>
<li><strong>Bottleneck</strong>: Complex geometry queries on large tables</li>
<li><strong>Optimization</strong>: Spatial indexes (GIST), connection pooling, query tuning</li>
</ul>
</div>

<div class="mdbook-tab-content hidden" data-tabname="Tile Encoding">
<ul>
<li><strong>Bottleneck</strong>: MVT encoding CPU time</li>
<li><strong>Optimization</strong>: Tile caching, pre-generated MBTiles for static data</li>
</ul>
</div>

<div class="mdbook-tab-content hidden" data-tabname="Network I/O">
<ul>
<li><strong>Bottleneck</strong>: High tile request rate</li>
<li><strong>Optimization</strong>: Async I/O, connection keep-alive, compression</li>
</ul>
</div>

<div class="mdbook-tab-content hidden" data-tabname="Memory">
<ul>
<li><strong>Bottleneck</strong>: Large tile cache size</li>
<li><strong>Optimization</strong>: LRU eviction, configurable cache size, streaming responses</li>
</ul>
</div>

</div>

<div class="mdbook-tabs-container">
<nav class="mdbook-tabs">
<button class="mdbook-tab active" data-tabname="Vertical Scaling">Vertical Scaling</button>
<button class="mdbook-tab" data-tabname="Horizontal Scaling">Horizontal Scaling</button>
</nav>
<div class="mdbook-tab-content" data-tabname="Vertical Scaling">
<ul>
<li>Increase CPU for faster tile generation</li>
<li>Increase memory for larger tile cache</li>
<li>Faster disk I/O for file sources</li>
</ul>
</div>

<div class="mdbook-tab-content hidden" data-tabname="Horizontal Scaling">
<ul>
<li>Run multiple Martin instances behind load balancer</li>
<li>Each instance maintains its own cache</li>
<li>Shared PostgreSQL database with connection pooling</li>
<li>CDN for tile distribution</li>
</ul>
</div>

</div>

<div class="mdbook-tabs-container">
<nav class="mdbook-tabs">
<button class="mdbook-tab active" data-tabname="Input Validation">Input Validation</button>
<button class="mdbook-tab" data-tabname="Database Access">Database Access</button>
<button class="mdbook-tab" data-tabname="Network Security">Network Security</button>
</nav>
<div class="mdbook-tab-content" data-tabname="Input Validation">
<ul>
<li>All tile coordinates validated (z/x/y bounds)</li>
<li>SQL injection prevention through parameterized queries</li>
<li>Path traversal prevention for file sources</li>
<li>URL parsing with strict validation</li>
</ul>
</div>

<div class="mdbook-tab-content hidden" data-tabname="Database Access">
<ul>
<li>Read-only database user recommended</li>
<li>Connection string security (avoid logging)</li>
<li>SSL/TLS support for PostgreSQL connections</li>
<li>Certificate validation for secure connections</li>
</ul>
</div>

<div class="mdbook-tab-content hidden" data-tabname="Network Security">
<ul>
<li>CORS configuration for cross-origin requests</li>
<li>Rate limiting (via reverse proxy)</li>
<li>Authentication/authorization (via reverse proxy)</li>
<li>HTTPS termination (via reverse proxy)</li>
</ul>
</div>

</div>

<h2 id="extensibility-points"><a class="header" href="#extensibility-points">Extensibility Points</a></h2>
<h3 id="adding-new-tile-sources"><a class="header" href="#adding-new-tile-sources">Adding New Tile Sources</a></h3>
<p>To add a new tile source type:</p>
<ol>
<li>Implement the <code>Source</code> trait in <code>martin-core</code></li>
<li>Add configuration parsing in <code>martin</code></li>
<li>Register source in the catalog</li>
<li>Add integration tests</li>
</ol>
<p>Example source types that could be added:</p>
<ul>
<li>Direct GeoJSON file serving</li>
<li>Vector tile rendering from raster data</li>
<li>Integration with other spatial databases</li>
</ul>
<h3 id="adding-new-resource-types"><a class="header" href="#adding-new-resource-types">Adding New Resource Types</a></h3>
<p>To add new resource endpoints:</p>
<ol>
<li>Implement resource generator in <code>martin-core</code></li>
<li>Add HTTP handler in <code>martin/src/srv/</code></li>
<li>Add configuration support</li>
<li>Update catalog/discovery</li>
</ol>
<h3 id="custom-authenticationauthorization"><a class="header" href="#custom-authenticationauthorization">Custom Authentication/Authorization</a></h3>
<p>Martin doesn’t include built-in auth, but supports:</p>
<ul>
<li>Reverse proxy authentication (recommended)</li>
<li>Custom Actix-Web middleware</li>
<li>Token-based access control via proxy</li>
</ul>
<h2 id="monitoring-and-observability"><a class="header" href="#monitoring-and-observability">Monitoring and Observability</a></h2>
<div class="mdbook-tabs-container">
<nav class="mdbook-tabs">
<button class="mdbook-tab active" data-tabname="Metrics">Metrics</button>
<button class="mdbook-tab" data-tabname="Health Checks">Health Checks</button>
<button class="mdbook-tab" data-tabname="Logging">Logging</button>
</nav>
<div class="mdbook-tab-content" data-tabname="Metrics">
<p>Martin exposes Prometheus metrics via <code>/metrics</code>:</p>
<ul>
<li>HTTP request counters and histograms</li>
<li>Tile generation time histograms</li>
<li>Cache hit/miss rates</li>
<li>Database connection pool stats</li>
<li>Error rates by type</li>
</ul>
</div>

<div class="mdbook-tab-content hidden" data-tabname="Health Checks">
<p>We allow health checks via <code>/health</code> and <code>/catalog</code> endpoints:</p>
<ul>
<li><code>/health</code> - Basic health check (HTTP 200)</li>
<li><code>/catalog</code> - Source availability check</li>
</ul>
</div>

<div class="mdbook-tab-content hidden" data-tabname="Logging">
<ul>
<li>logging via <code>env_logger</code></li>
<li>Configurable log levels</li>
<li>Request/response logging</li>
</ul>
</div>

</div>

<h2 id="related-documentation"><a class="header" href="#related-documentation">Related Documentation</a></h2>
<ul>
<li><a href="development.html">Development Guide</a> - Contributing to Martin</li>
<li><a href="config-file.html">Configuration File</a> - Detailed configuration options</li>
<li><a href="using.html">API Documentation</a> - HTTP API reference</li>
<li><a href="sources-tiles.html">Sources Documentation</a> - Tile source configuration</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="mbtiles-validation.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                            </a>

                            <a rel="next prefetch" href="development.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="mbtiles-validation.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M41.4 233.4c-12.5 12.5-12.5 32.8 0 45.3l160 160c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L109.3 256 246.6 118.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-160 160z"/></svg></span>
                    </a>

                    <a rel="next prefetch" href="development.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M278.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-160 160c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L210.7 256 73.4 118.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l160 160z"/></svg></span>
                    </a>
            </nav>

        </div>

        <template id=fa-eye><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM432 256c0 79.5-64.5 144-144 144s-144-64.5-144-144s64.5-144 144-144s144 64.5 144 144zM288 192c0 35.3-28.7 64-64 64c-11.5 0-22.3-3-31.6-8.4c-.2 2.8-.4 5.5-.4 8.4c0 53 43 96 96 96s96-43 96-96s-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6z"/></svg></span></template>
        <template id=fa-eye-slash><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c5.2-11.8 8-24.8 8-38.5c0-53-43-96-96-96c-2.8 0-5.6 .1-8.4 .4c5.3 9.3 8.4 20.1 8.4 31.6c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zm223.1 298L373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5z"/></svg></span></template>
        <template id=fa-copy><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M502.6 70.63l-61.25-61.25C435.4 3.371 427.2 0 418.7 0H255.1c-35.35 0-64 28.66-64 64l.0195 256C192 355.4 220.7 384 256 384h192c35.2 0 64-28.8 64-64V93.25C512 84.77 508.6 76.63 502.6 70.63zM464 320c0 8.836-7.164 16-16 16H255.1c-8.838 0-16-7.164-16-16L239.1 64.13c0-8.836 7.164-16 16-16h128L384 96c0 17.67 14.33 32 32 32h47.1V320zM272 448c0 8.836-7.164 16-16 16H63.1c-8.838 0-16-7.164-16-16L47.98 192.1c0-8.836 7.164-16 16-16H160V128H63.99c-35.35 0-64 28.65-64 64l.0098 256C.002 483.3 28.66 512 64 512h192c35.2 0 64-28.8 64-64v-32h-47.1L272 448z"/></svg></span></template>
        <template id=fa-play><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M73 39c-14.8-9.1-33.4-9.4-48.5-.9S0 62.6 0 80V432c0 17.4 9.4 33.4 24.5 41.9s33.7 8.1 48.5-.9L361 297c14.3-8.7 23-24.2 23-41s-8.7-32.2-23-41L73 39z"/></svg></span></template>
        <template id=fa-clock-rotate-left><span class=fa-svg><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc. --><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg></span></template>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr-ef4e11c1.min.js"></script>
        <script src="mark-09e88c2c.min.js"></script>
        <script src="searcher-c2a407aa.js"></script>

        <script src="clipboard-1626706a.min.js"></script>
        <script src="highlight-abc7f01d.js"></script>
        <script src="book-a0b12cfe.js"></script>

        <!-- Custom JS scripts -->
        <script src="theme/tabs-4258a7db.js"></script>



    </div>
    </body>
</html>
